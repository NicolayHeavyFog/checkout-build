{"version":3,"file":"js/app.78c9fc67.js","mappings":"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","sources":["webpack://checkin/./src/App.vue","webpack://checkin/./src/api/instanceJSON.js","webpack://checkin/./src/api/instanceText.js","webpack://checkin/./src/api/passengerInfo.js","webpack://checkin/./src/api/sendData.js","webpack://checkin/./src/api/index.js","webpack://checkin/./src/store/users.js","webpack://checkin/./src/helpers.js","webpack://checkin/./src/components/MainHeader.vue","webpack://checkin/src/components/MainHeader.vue","webpack://checkin/./src/components/MainHeader.vue?57e6","webpack://checkin/./src/components/MainHeader.vue?6e06","webpack://checkin/./src/components/MainFooter.vue","webpack://checkin/src/components/MainFooter.vue","webpack://checkin/./src/components/MainFooter.vue?1fff","webpack://checkin/./src/components/MainFooter.vue?9c56","webpack://checkin/./src/views/MainPage.vue","webpack://checkin/./src/components/PassengerList.vue","webpack://checkin/./src/components/CardPassenger.vue","webpack://checkin/./src/components/BaseButton.vue","webpack://checkin/./src/constants.js","webpack://checkin/src/components/BaseButton.vue","webpack://checkin/./src/components/BaseButton.vue?4222","webpack://checkin/./src/components/BaseButton.vue?c226","webpack://checkin/./src/store/cards.js","webpack://checkin/./src/hooks/useCardPassenger.js","webpack://checkin/src/components/CardPassenger.vue","webpack://checkin/./src/components/CardPassenger.vue?e6aa","webpack://checkin/./src/components/CardPassenger.vue?29ee","webpack://checkin/./src/components/CardMap.vue","webpack://checkin/./src/components/MapSeats.vue","webpack://checkin/./src/hooks/useMapSeats.js","webpack://checkin/src/components/MapSeats.vue","webpack://checkin/./src/components/MapSeats.vue?c7b7","webpack://checkin/./src/components/MapSeats.vue?5812","webpack://checkin/./src/hooks/useCardMap.js","webpack://checkin/./src/hooks/useCardMapDOM.js","webpack://checkin/src/components/CardMap.vue","webpack://checkin/./src/components/CardMap.vue?7288","webpack://checkin/./src/components/CardMap.vue?e99d","webpack://checkin/./src/hooks/usePassangerList.js","webpack://checkin/src/components/PassengerList.vue","webpack://checkin/./src/components/PassengerList.vue?dd7c","webpack://checkin/./src/components/PassengerList.vue?731c","webpack://checkin/src/views/MainPage.vue","webpack://checkin/./src/views/MainPage.vue?63f6","webpack://checkin/./src/views/MainPage.vue?dafd","webpack://checkin/./src/components/BaseNotification.vue","webpack://checkin/src/components/BaseNotification.vue","webpack://checkin/./src/components/BaseNotification.vue?2d33","webpack://checkin/./src/components/BaseNotification.vue?38ca","webpack://checkin/src/App.vue","webpack://checkin/./src/App.vue?7e46","webpack://checkin/./src/App.vue?0e40","webpack://checkin/./src/plugins/vuetify.js","webpack://checkin/./src/router/index.js","webpack://checkin/./src/main.js","webpack://checkin/webpack/bootstrap","webpack://checkin/webpack/runtime/chunk loaded","webpack://checkin/webpack/runtime/compat get default export","webpack://checkin/webpack/runtime/define property getters","webpack://checkin/webpack/runtime/global","webpack://checkin/webpack/runtime/hasOwnProperty shorthand","webpack://checkin/webpack/runtime/make namespace object","webpack://checkin/webpack/runtime/jsonp chunk loading","webpack://checkin/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('MainHeader',{attrs:{\"preloader\":_vm.fetchStatus.loading,\"info\":_vm.headerInfo},on:{\"change-flight\":function($event){return _vm.changeFlight()}}}),_c('MainPage',{attrs:{\"preloader\":_vm.fetchStatus.loading && !_vm.toOpenListCards},on:{\"updateFlightInfo\":_vm.updateFlightInfo}}),(!_vm.fetchStatus.loading && _vm.store.statusFlight === 'OPENED')?_c('MainFooter'):_vm._e(),_c('v-app',[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"809\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{staticClass:\"suggestion\"},[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(\"Выбор сегмента\")])]),_c('form',{attrs:{\"action\":\"#\"}},[_c('v-radio-group',{model:{value:(_vm.radioGroup),callback:function ($$v) {_vm.radioGroup=$$v},expression:\"radioGroup\"}},_vm._l((_vm.segments),function(seg,index){return _c('v-radio',{key:index,staticClass:\"suggestion__row\",class:seg.status === 'OPENED' ? 'active' : '',attrs:{\"color\":\"black\",\"value\":index,\"checked\":_vm.radioGroup === index},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('div',{staticClass:\"suggestion__row-left\"},[_c('div',{staticClass:\"suggestion__header\"},[_c('h2',{staticClass:\"suggestion__title\"},[_vm._v(\" \"+_vm._s(seg.departureCity)+\" — \"+_vm._s(seg.arrivalCity)+\" \")]),_c('span',{staticClass:\"suggestion__subtitle suggestion__subtitle--color-grey\"},[_vm._v(_vm._s(seg.departureAirport))]),_c('span',{staticClass:\"suggestion__subtitle\"},[_vm._v(\" \"+_vm._s(_vm.convertTime(seg.departureDateTime)))])]),_c('span',{staticClass:\"suggestion__text\"},[_vm._v(\" Веб-регистрация на рейс: \"),_c('span',{class:seg.status === 'OPENED'\n                          ? ''\n                          : 'suggestion__text--color-red'},[_vm._v(\"  \"+_vm._s(seg.status === \"OPENED\" ? ` открыта до ${_vm.convertTime( seg.webCheckInClose, \"dd MMMM yyyy, HH:MM\" )}` : \"закрыта\")+\" \")]),_vm._v(\" \"+_vm._s())])]),_c('div',{staticClass:\"suggestion__row-right\"},[_c('span',{staticClass:\"suggestion__subtitle suggestion__subtitle--mb-10\"},[_vm._v(\"Рейс: \"+_vm._s(seg.flightCode))]),_c('span',{staticClass:\"suggestion__subtitle suggestion__subtitle--color-grey suggestion__subtitle--size-16\"},[_vm._v(_vm._s(seg.airline))])])]},proxy:true}],null,true)})}),1)],1),_c('div',{staticClass:\"suggestion__button-group\"},[_c('BaseButton',{staticClass:\"button--mr-10\",attrs:{\"text\":'Перейти к веб-регистрации'},on:{\"click\":function($event){return _vm.setTicket()}}}),_c('v-spacer')],1)],1)],1),_c('v-app',[_c('div',{attrs:{\"id\":\"teleport-target\"}})])],1),_c('BaseNotification',{on:{\"reload\":function($event){return _vm.fetch()}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"axios\";\n\nconst instanceJson = axios.create({\n  baseURL: \"https://checkin24.ru\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default instanceJson;\n","import axios from \"axios\";\n\nconst instanceText = axios.create({\n  baseURL: \"https://checkin24.ru\",\n  headers: {\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\n  },\n});\n\nexport default instanceText;\n","export default function (instance) {\n  return {\n    info(id) {\n      return instance.get(`_api/checkouts/${id}/`);\n    },\n    airline(airline) {\n      return instance.get(`_api/airlines/${airline}/`);\n    },\n    infoDetailed(payload) {\n      return instance.post(\"_seatmap_api/general/doByPassenger\", payload);\n    },\n  };\n}\n","export default function (instance) {\n  return {\n    register(payload) {\n      return instance.post(\"auto/checkout/\", payload);\n    },\n  };\n}\n","import instanceJson from \"./instanceJSON\";\nimport instanceText from \"./instanceText\";\n\nimport info from \"./passengerInfo\";\nimport sendData from \"./sendData\";\n\nexport default {\n  passenger: info(instanceJson),\n  requestData: sendData(instanceText),\n};\n","import { defineStore } from \"pinia\";\nimport api from \"@/api/index.js\";\n// import { event } from \"vue-gtag\";\nimport { useGtm } from \"@gtm-support/vue2-gtm\";\n\nimport {\n  getKeyFlight,\n  comparisonTime,\n  getPossibleActionsByUser,\n} from \"@/helpers\";\n// import _ from \"@/mock\";\n\nexport const useUsers = defineStore(\"users\", {\n  state: () => ({\n    persons: [],\n    airline: null,\n    segments: null,\n    segmentsResult: null,\n    basePerson: null,\n    basePersonEmail: null,\n    basePersonIsDefined: null,\n    statusFlight: null,\n    flightKey: null,\n    fetchStatus: {\n      success: true,\n      loading: true,\n    },\n    dialog: false,\n    notification: {\n      type: null,\n      availableReload: null,\n      textMessage: null,\n    },\n    webCheckInOpen: null,\n    gtm: useGtm(),\n  }),\n  getters: {\n    checkSeats() {\n      let result = true;\n      this.persons.forEach((p) => {\n        if (!p?.normalSeat) result = false;\n      });\n      return result;\n    },\n    registerIsStarted() {\n      if (this?.webCheckInOpen) return comparisonTime(this.webCheckInOpen);\n      else return null;\n    },\n    totalForms() {\n      return this.persons.reduce((acc, cp) => {\n        if (cp.checked === \"NOT_CHECKED\" && cp?.normalSeat) return acc + 1;\n        else return acc + 0;\n      }, 0);\n    },\n    totalPrice() {\n      return (\n        this.persons.reduce((acc, cp) => {\n          if (cp.checked === \"NOT_CHECKED\" && cp.seatRate)\n            return acc + cp.seatRate;\n          else return acc + 0;\n        }, 0) || 0\n      );\n    },\n    listTickets() {\n      return this.persons.map((p) => p.ticketNumber);\n    },\n    activePerson() {\n      return this.persons.find((p) => p.active);\n    },\n    findPersonByTicket() {\n      return (tN) => this.persons.find((p) => p.ticketNumber === tN);\n    },\n    findIndexPersonByTicket() {\n      return (tN) => this.persons.findIndex((p) => p.ticketNumber === tN);\n    },\n    parseSegments() {\n      return (segmentsData) => {\n        this.segments = segmentsData.selectSegmentsGroupCase.segmentGroups.map(\n          (currentSegment) => {\n            const seg = currentSegment[0];\n            return {\n              webCheckInOpen: seg.stages.webCheckInOpen,\n              webCheckInClose: seg.stages.webCheckInClose,\n              departureCity: seg.departureCity,\n              arrivalCity: seg.arrivalCity,\n              departureAirport: seg.departureAirport,\n              airline: seg.airline,\n              flightCode: seg.airlineCode + \"-\" + seg.flightNumber,\n              arrivalDateTime: seg.arrivalDateTime,\n              departureDateTime: seg.departureDateTime,\n              status: seg.status,\n            };\n          }\n        );\n      };\n    },\n  },\n  actions: {\n    findRateBySeat(mapSeats, seat) {\n      let result = null;\n\n      const lineIndex = mapSeats.rows.findIndex(\n        (row) => Number(row.row_number) === parseInt(seat)\n      );\n\n      result = mapSeats.rows[lineIndex].seats.find(\n        (s) => String(s.seatNumber) === String(seat)\n      );\n\n      return result.rate;\n    },\n    setNotification(type, availableReload, textMessage) {\n      this.notification = {\n        type: type,\n        availableReload: availableReload,\n        textMessage: textMessage,\n      };\n    },\n    deletePerson(ticketNumber) {\n      if (!ticketNumber) return;\n      const persons = [...this.persons];\n      const index = persons.findIndex((p) => p.ticketNumber === ticketNumber);\n      persons.splice(index, 1);\n      this.$patch({\n        persons: persons,\n      });\n    },\n    updatePerson(index, data) {\n      const persons = [...this.persons];\n      persons[index] = { ...persons[index], ...data };\n      this.$patch({\n        persons: persons,\n      });\n    },\n    async checkAvailableSeat(ticketNumber, seat) {\n      const p = this.findPersonByTicket(ticketNumber);\n      const payload = {\n        airline: this.airline.iata_code,\n        passenger: {\n          seatNumber: seat,\n          lastName: p.lastName,\n          ticketNumber: p.ticketNumber,\n          segmentsGroupIndex: p.segmentsGroupIndex || 0,\n          segmentIndex: 0,\n        },\n      };\n      try {\n        return (\n          await api.passenger.infoDetailed({ type: \"getSeat\", ...payload })\n        ).data[0];\n      } catch ({ response }) {\n        this.setNotification(\"error\", false, response.data.error);\n        return response;\n      }\n    },\n    async register(payload) {\n      return await api.requestData.register(payload);\n    },\n    parseResponse(ticketInfo, mapSeat = null) {\n      const instancePerson = {};\n      if (this.flightKey) {\n        const newFlightKey = getKeyFlight(ticketInfo.segments[0]);\n\n        if (newFlightKey !== this.flightKey) {\n          return {\n            compatibility: false,\n          };\n        }\n      } else this.flightKey = getKeyFlight(ticketInfo.segments[0]);\n\n      this.webCheckInOpen = ticketInfo.segments[0].stages.webCheckInOpen;\n      this.statusFlight = ticketInfo.segments[0].status;\n      if (!this.basePerson.departure_date)\n        this.basePerson.departure_date = ticketInfo.segments[0].departureDate;\n      if (!this.basePerson.flight_number)\n        this.basePerson.flight_number = ticketInfo.segments[0].flightNumber;\n      instancePerson.possibleActions = getPossibleActionsByUser(ticketInfo);\n      instancePerson.checked = ticketInfo.passengersType;\n      instancePerson.fullName = ticketInfo.passengers[0].name;\n      instancePerson.status = ticketInfo.segments[0].status;\n\n      if (instancePerson.checked === \"CHECKED\") {\n        instancePerson.normalSeat =\n          ticketInfo.passengers[0].segments[0].chosenSeatThroughGui.number;\n      } else if (\n        instancePerson.checked === \"NOT_CHECKED\" &&\n        ticketInfo.passengers[0].segments[0].chosenSeatThroughGui\n          ?.autoAssigned === false\n      ) {\n        instancePerson.normalSeat =\n          ticketInfo.passengers[0].segments[0].chosenSeatThroughGui.number;\n        if (mapSeat) {\n          instancePerson.seatRate = this.findRateBySeat(\n            mapSeat,\n            instancePerson.normalSeat\n          );\n        }\n      }\n\n      return instancePerson;\n    },\n    updateUsers(instancePerson) {\n      const persons = [...this.persons];\n\n      const index = this.persons.findIndex(\n        (currentPerson) =>\n          currentPerson?.ticketNumber === instancePerson.ticketNumber\n      );\n\n      if (index !== -1) persons[index] = instancePerson;\n      else persons.push(instancePerson);\n\n      this.persons = persons;\n    },\n    async getPerson(id) {\n      try {\n        this.basePerson = (await api.passenger.info(id)).data;\n        this.basePersonEmail = this.basePerson.email;\n        return true;\n      } catch ({ response }) {\n        this.setNotification(\"error\", false, response.data.detail);\n        this.fetchStatus.success = false;\n        return false;\n      }\n    },\n    async getAirline() {\n      try {\n        this.airline = (\n          await api.passenger.airline(this.basePerson.airline)\n        ).data;\n        return true;\n      } catch ({ response }) {\n        this.setNotification(\"error\", false, response.data.detail);\n        this.fetchStatus.success = false;\n        return false;\n      }\n    },\n    async getInfoFlight({ lastName, ticketNumber }, segmentIndex = 0) {\n      this.setNotification(null, null, null);\n      let instancePerson = {\n        lastName: lastName,\n        ticketNumber: ticketNumber,\n        segmentIndex: String(0),\n        segmentsGroupIndex: String(segmentIndex),\n      };\n      const payload = {\n        airline: this.airline.iata_code,\n        passenger: {\n          ...instancePerson,\n        },\n      };\n      const [ticketInfo, mapInfo] = await Promise.allSettled([\n        api.passenger.infoDetailed({ type: \"ticketInfo\", ...payload }),\n        api.passenger.infoDetailed({ type: \"mapInfo\", ...payload }),\n      ]).catch(({ response }) => {\n        this.setNotification(\n          \"error\",\n          true,\n          response.data?.detail || \"Ошибка получения билета\"\n        );\n\n        this.fetchStatus.success = false;\n        // event(\"ticket_api_error\", { method: \"Google\" });\n\n        this.gtm.trackEvent({\n          event: \"ticket_api_error\",\n          category: \"category\",\n          action: \"click\",\n          label: \"My custom component trigger\",\n          value: 5000,\n          noninteraction: false,\n        });\n\n        return response.data;\n      });\n      if (ticketInfo.status === \"fulfilled\" && mapInfo.status === \"rejected\") {\n        instancePerson = {\n          ...instancePerson,\n          ...this.parseResponse(ticketInfo.value.data),\n        };\n        this.updateUsers(instancePerson);\n        return {\n          flightInfo: ticketInfo.value.data.segments[0],\n          instancePerson,\n        };\n      } else if (\n        ticketInfo.status === \"fulfilled\" &&\n        mapInfo.status === \"fulfilled\"\n      ) {\n        instancePerson = {\n          ...instancePerson,\n          ...this.parseResponse(ticketInfo.value.data, mapInfo.value.data),\n        };\n\n        instancePerson.mapSeats = mapInfo.value.data;\n        this.updateUsers(instancePerson);\n        return {\n          flightInfo: ticketInfo.value.data.segments[0],\n          checked: ticketInfo.value.data.passengersType,\n          mapSeats: mapInfo.value.data,\n          instancePerson,\n        };\n      } else {\n        return { flightInfo: ticketInfo.value.data.segments[0] };\n      }\n    },\n\n    async checkValidPassenger({ lastName, ticketNumber }, segmentIndex = 0) {\n      const instancePerson = {\n        lastName: lastName,\n        ticketNumber: ticketNumber,\n        segmentIndex: String(segmentIndex),\n        segmentsGroupIndex: String(segmentIndex),\n      };\n      const payload = {\n        airline: this.airline.iata_code,\n        passenger: {\n          ...instancePerson,\n        },\n      };\n      return await api.passenger\n        .infoDetailed({ type: \"ticketsInfo\", ...payload })\n        .then(({ data }) => {\n          return data;\n        })\n        .catch(({ response }) => {\n          return response\n            ? { code: response.status, data: response.data }\n            : null;\n        });\n    },\n  },\n});\n","// import { isAfter } from \"date-fns\";\n// import format from \"date-fns/format\";\n// import ruLocale from \"date-fns/locale/ru\";\nimport { useUsers } from \"@/store/users\";\n// import { es, ru } from 'date-fns/locale'\n// timeFormat = \"dd MMMM, EE, HH:MM\"\nexport function convertTime(time) {\n  const b = time.split(\" \");\n  // const a = b[0].split(\".\").reverse().join(\"/\") + \" \" + b[1];\n  // const result = format(a);\n  return b.join(\" в \");\n  // return format(a, timeFormat, { locale: ruLocale });\n}\n\nexport function comparisonTime(t) {\n  if (!t) return null;\n  const timeOne = t.split(\" \");\n  const timeOneParsed =\n    timeOne[0].split(\".\").reverse().join(\"/\") + \" \" + timeOne[1];\n  return +new Date() > +new Date(timeOneParsed);\n  // return isAfter(new Date(), new Date(timeOneParsed));\n}\n\nexport function getPossibleActionsByUser(ticketInfo) {\n  return ticketInfo.passengers[0].segments[0].possibleActions;\n}\n\nexport function numberFormat(value) {\n  return new Intl.NumberFormat().format(value);\n}\n\nexport function createRequest() {\n  const storeUsers = useUsers();\n  const flightNumber = String(storeUsers.basePerson.flight_number);\n\n  function fillUpFieldsEachPerson(person, index) {\n    return `&passenger-${index}-last_name=${person.lastName}&passenger-${index}-ticket_number=${person.ticketNumber}&passenger-${index}-seat=${person.normalSeat}&passenger-${index}-salon=any&passenger-${index}-revenue=${person.seatRate}`;\n  }\n  let requestStr = \"\";\n  let counter = 0;\n\n  requestStr += `csrfmiddlewaretoken=${\n    document.cookie.match(/csrftoken=(.+?)(;|$)/)[1]\n  }&flight_number=${\n    flightNumber.match(/\\s/) ? flightNumber.replace(/\\s/, \"%20\") : flightNumber\n  }&departure_date=${storeUsers.basePerson.departure_date}&email=${\n    storeUsers.basePerson.email\n  }&tariff=oneway&airline=${storeUsers.basePerson.airline}&checkoutId=${\n    storeUsers.basePerson.checkoutId\n  }&passenger-TOTAL_FORMS=${\n    storeUsers.totalForms\n  }&passenger-INITIAL_FORMS=1&passenger-MIN_NUM_FORMS=1&passenger-MAX_NUM_FORMS=12&type=auto`;\n\n  storeUsers.persons.forEach((p) => {\n    if (p?.seatRate) {\n      requestStr += fillUpFieldsEachPerson(p, counter);\n      counter++;\n    }\n  });\n\n  return requestStr;\n}\n\nexport function scrollTo(element) {\n  window.scroll({\n    left: 0,\n    top: element.offsetTop - 300,\n    behavior: \"smooth\",\n  });\n}\n\nexport function getKeyFlight(segment) {\n  return (\n    segment.departureDateTime +\n    \" \" +\n    segment.arrivalDateTime +\n    \" \" +\n    segment.flightNumber\n  );\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('header',{staticClass:\"header\",class:_vm.storeUsers.registerIsStarted\n      ? _vm.info.status === 'OPENED'\n        ? 'registration-open'\n        : ''\n      : 'registration-open'},[(_vm.preloader)?_c('div',{staticClass:\"container header__sceleton\"},[_c('v-skeleton-loader',{attrs:{\"loading\":true,\"type\":\"heading, paragraph@2, chip\"}})],1):_c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"header__title\"},[_vm._v(\" Онлайн-регистрация на рейс № \"+_vm._s(_vm.info.flightCode)+\" \")]),_c('div',{staticClass:\"header-places\"},[_c('div',{staticClass:\"header-places__departure\"},[_c('div',{staticClass:\"header-places__header\"},[_c('h2',{staticClass:\"header-places__city\"},[_vm._v(_vm._s(_vm.info.departureCity))]),_c('span',{staticClass:\"header-places__ICAO\"},[_vm._v(_vm._s(_vm.info.departureCityCode))])]),_c('span',{staticClass:\"header-places__time\"},[_vm._v(\" \"+_vm._s(_vm.convertTime(_vm.info.departureDateTime))+\" \")])]),_c('svg',{staticClass:\"header-places__icon\"},[_c('use',{attrs:{\"xlink:href\":\"#airplane\"}})]),_c('div',{staticClass:\"header-places__destination\"},[_c('div',{staticClass:\"header-places__header\"},[_c('h2',{staticClass:\"header-places__city\"},[_vm._v(_vm._s(_vm.info.arrivalCity))]),_c('span',{staticClass:\"header-places__ICAO\"},[_vm._v(_vm._s(_vm.info.arrivalCityCode))])]),_c('span',{staticClass:\"header-places__time\"},[_vm._v(\" \"+_vm._s(_vm.convertTime(_vm.info.arrivalDateTime))+\" \")])])]),_c('span',{staticClass:\"header__submessage\"},[_c('svg',{staticClass:\"header__submessage-icon\"},[_c('use',{attrs:{\"xlink:href\":\"#timeIcon\"}})]),_c('span',{staticClass:\"header__submessage-notification\"},[_vm._v(_vm._s(_vm.flightStatus))])]),(_vm.storeUsers.segments)?_c('v-btn',{staticClass:\"button button__secondary header__button\",attrs:{\"absolute\":\"\",\"x-large\":\"\"},on:{\"click\":function($event){return _vm.changeFlight()}}},[_vm._v(\" Изменить данные рейса \")]):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <header\n    class=\"header\"\n    :class=\"\n      storeUsers.registerIsStarted\n        ? info.status === 'OPENED'\n          ? 'registration-open'\n          : ''\n        : 'registration-open'\n    \"\n  >\n    <div class=\"container header__sceleton\" v-if=\"preloader\">\n      <v-skeleton-loader\n        :loading=\"true\"\n        type=\"heading, paragraph@2, chip\"\n      ></v-skeleton-loader>\n    </div>\n    <div class=\"container\" v-else>\n      <h1 class=\"header__title\">\n        Онлайн-регистрация на&nbsp;рейс&nbsp;№&nbsp;{{ info.flightCode }}\n      </h1>\n      <div class=\"header-places\">\n        <div class=\"header-places__departure\">\n          <div class=\"header-places__header\">\n            <h2 class=\"header-places__city\">{{ info.departureCity }}</h2>\n            <span class=\"header-places__ICAO\">{{\n              info.departureCityCode\n            }}</span>\n          </div>\n          <span class=\"header-places__time\">\n            {{ convertTime(info.departureDateTime) }}\n          </span>\n        </div>\n        <svg class=\"header-places__icon\">\n          <use xlink:href=\"#airplane\"></use>\n        </svg>\n        <div class=\"header-places__destination\">\n          <div class=\"header-places__header\">\n            <h2 class=\"header-places__city\">{{ info.arrivalCity }}</h2>\n            <span class=\"header-places__ICAO\">{{ info.arrivalCityCode }}</span>\n          </div>\n          <span class=\"header-places__time\">\n            {{ convertTime(info.arrivalDateTime) }}\n          </span>\n        </div>\n      </div>\n      <span class=\"header__submessage\"\n        ><svg class=\"header__submessage-icon\">\n          <use xlink:href=\"#timeIcon\"></use>\n        </svg>\n        <span class=\"header__submessage-notification\">{{ flightStatus }}</span>\n      </span>\n      <v-btn\n        @click=\"changeFlight()\"\n        absolute\n        x-large\n        class=\"button button__secondary header__button\"\n        v-if=\"storeUsers.segments\"\n      >\n        Изменить данные рейса\n      </v-btn>\n    </div>\n  </header>\n</template>\n\n<script>\nimport { convertTime } from \"@/helpers\";\nimport { computed } from \"vue\";\nimport { useUsers } from \"@/store/users\";\nexport default {\n  name: \"MainHeader\",\n  props: {\n    preloader: {\n      type: Boolean,\n      required: true,\n    },\n    info: {\n      type: Object,\n    },\n  },\n\n  setup(props, { emit }) {\n    const storeUsers = useUsers();\n    convertTime;\n    function changeFlight() {\n      emit(\"change-flight\");\n    }\n\n    const flightStatus = computed(() => {\n      console.log(storeUsers.persons.length);\n      if (storeUsers.persons.length) {\n        console.log(storeUsers.registerIsStarted);\n        if (storeUsers.registerIsStarted) {\n          if (props.info.status === \"OPENED\") {\n            return `Регистрация завершится ${convertTime(\n              props.info.webCheckInClose\n            )}`;\n          }\n        } else\n          return `Регистрация начнётся ${convertTime(\n            props.info.webCheckInOpen\n          )}`;\n        return \"Регистрация завершена\";\n      } else return \"\";\n    });\n\n    return {\n      storeUsers,\n      flightStatus,\n      convertTime,\n      changeFlight,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.header-places {\n  &__header {\n    display: flex;\n  }\n}\n\n.header__sceleton {\n  & .v-skeleton-loader--is-loading {\n    overflow: visible;\n  }\n\n  & .v-skeleton-loader__heading {\n    margin-bottom: 50px;\n    height: 30px;\n    width: 80%;\n    border-radius: 40px;\n  }\n\n  & .v-skeleton-loader__paragraph {\n    width: 60%;\n  }\n\n  & .v-skeleton-loader__chip {\n    width: 256px;\n    height: 40px;\n    border-radius: 40px;\n    transform: translate(0, 80px);\n  }\n\n  @media (max-width: 750px) {\n    & .v-skeleton-loader__heading {\n      height: 50px;\n    }\n\n    & .v-skeleton-loader__paragraph {\n      width: 80%;\n    }\n\n    & .v-skeleton-loader__text {\n      height: 25px;\n      border-radius: 40px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainHeader.vue?vue&type=template&id=7488dc8b&\"\nimport script from \"./MainHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./MainHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainHeader.vue?vue&type=style&index=0&id=7488dc8b&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('footer',{staticClass:\"footer\"},[_c('div',{staticClass:\"container\"},[_c('p',{staticClass:\"footer__text\"},[_vm._v(\" Нажимая на кнопку «Зарегистрироваться», вы соглашаетесь с тем, что прочитали и принимаете \"),_c('a',{staticClass:\"footer__link footer__link--underline footer__link--grey\",attrs:{\"href\":\"https://checkin24.ru/terms-of-use/?from=checkout\",\"target\":\"_blank\"}},[_vm._v(\"соглашение\")]),_vm._v(\" с Checkin24. \")]),_c('p',{staticClass:\"footer__text footer__text--color-black\"},[_vm._v(\" Ответы на самые волнующие вопросы \"),_c('a',{staticClass:\"footer__link\",attrs:{\"href\":\"https://checkin24.ru/faq/?from=checkout\",\"target\":\"_blank\"}},[_vm._v(\"здесь\")]),_vm._v(\". \")]),_c('p',{staticClass:\"footer__text footer__text--color-black\"},[_vm._v(\" У вас есть вопросы или предпочтения, то можете связаться с нами по эл. почте: \"),_c('a',{staticClass:\"footer__link\",attrs:{\"href\":\"mailto:support@checkin24.ru\"}},[_vm._v(\"support@checkin24.ru\")]),_vm._v(\" или онлайн-чату, который доступен справа внизу экрана. \")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <footer class=\"footer\">\n    <div class=\"container\">\n      <p class=\"footer__text\">\n        Нажимая на кнопку «Зарегистрироваться», вы соглашаетесь с тем, что\n        прочитали и принимаете\n        <a\n          href=\"https://checkin24.ru/terms-of-use/?from=checkout\"\n          target=\"_blank\"\n          class=\"footer__link footer__link--underline footer__link--grey\"\n          >соглашение</a\n        >\n        с Checkin24.\n      </p>\n      <p class=\"footer__text footer__text--color-black\">\n        Ответы на самые волнующие вопросы\n        <a\n          href=\"https://checkin24.ru/faq/?from=checkout\"\n          target=\"_blank\"\n          class=\"footer__link\"\n          >здесь</a\n        >.\n      </p>\n      <p class=\"footer__text footer__text--color-black\">\n        У вас есть вопросы или предпочтения, то можете связаться с нами по эл.\n        почте:\n        <a class=\"footer__link\" href=\"mailto:support@checkin24.ru\"\n          >support@checkin24.ru</a\n        >\n        или онлайн-чату, который доступен справа внизу экрана.\n      </p>\n    </div>\n  </footer>\n</template>\n\n<script>\nexport default {\n  name: \"MainFooter\",\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainFooter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainFooter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainFooter.vue?vue&type=template&id=05db4c0f&\"\nimport script from \"./MainFooter.vue?vue&type=script&lang=js&\"\nexport * from \"./MainFooter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('main',{staticClass:\"main\"},[(_vm.preloader)?_c('div',{staticClass:\"main__loaders\"},[_c('div',{staticClass:\"container main__sceleton\"},[_c('v-skeleton-loader',{attrs:{\"type\":\"heading\"}})],1),_c('div',{staticClass:\"container main__sceleton\"},[_c('v-skeleton-loader',{staticClass:\"main__sceleton-card\",attrs:{\"type\":\"heading, chip, heading, chip, button\"}})],1)]):_c('PassengerList',{on:{\"updateFlightInfo\":_vm.updateFlightInfo}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('section',{staticClass:\"cards\"},[_c('h2',{staticClass:\"cards__title\"},[_vm._v(\"Пассажиры\")]),_c('div',{staticClass:\"cards__container\"},[_vm._l((_vm.storeCards.cards),function(card,index){return _c('CardPassenger',{key:index,attrs:{\"card\":_vm.storeCards.cards[index],\"undeletable\":index === 0},on:{\"openCardMap\":function($event){_vm.sheet = !_vm.sheet},\"updateFlightInfo\":_vm.updateFlightInfo}})}),(_vm.storeUsers.basePersonIsDefined && _vm.statusFlight === 'OPENED')?_c('button',{staticClass:\"card-suggestion\",on:{\"click\":function($event){return _vm.storeCards.createCard(\n            {},\n            { status: 'OPENED', personIdDefined: true }\n          )}}},[_c('svg',{staticClass:\"card-suggestion__icon\"},[_c('use',{attrs:{\"xlink:href\":\"#userIcon\"}})]),_c('span',{staticClass:\"card-suggestion__message\"},[_vm._v(\"+ Добавить пассажира\")])]):_vm._e(),_c('v-bottom-sheet',{attrs:{\"inset\":\"\",\"max-width\":\"960\"},model:{value:(_vm.sheet),callback:function ($$v) {_vm.sheet=$$v},expression:\"sheet\"}},[_c('CardMap',{attrs:{\"open\":_vm.sheet},on:{\"close\":function($event){_vm.sheet = false}}})],1)],2)]),(_vm.storeUsers.basePersonIsDefined && _vm.statusFlight === 'OPENED')?_c('section',{staticClass:\"mailer\"},[_c('div',{staticClass:\"mailer__win\",attrs:{\"id\":\"mail\"}},[_c('label',[_c('span',{staticClass:\"mailer__label\"},[_vm._v(\"Эл. почта для получения посадочных талонов\")]),_c('v-app',[_c('v-text-field',{staticStyle:{\"border-radius\":\"50px\"},attrs:{\"placeholder\":\"email@mail.ru\",\"outlined\":\"\",\"color\":\"#07237E\",\"background-color\":\"white\",\"rules\":[\n              () => !!_vm.storeUsers.basePersonEmail || 'Это поле обязательно',\n            ]},model:{value:(_vm.storeUsers.basePersonEmail),callback:function ($$v) {_vm.$set(_vm.storeUsers, \"basePersonEmail\", $$v)},expression:\"storeUsers.basePersonEmail\"}})],1)],1)])]):_vm._e(),(_vm.storeUsers.basePersonIsDefined && _vm.statusFlight === 'OPENED')?_c('section',{staticClass:\"output\"},[_c('span',{staticClass:\"output__message\"},[_vm._v(\" Количество пассажиров: \"+_vm._s(_vm.storeUsers.totalForms))]),_c('span',{staticClass:\"output__message\"},[_vm._v(\"К оплате: \"+_vm._s(_vm.storeUsers.totalPrice)+\" ₽\")])]):_vm._e(),(_vm.storeUsers.basePersonIsDefined && _vm.statusFlight === 'OPENED')?_c('v-app',[_c('BaseButton',{staticClass:\"main__button\",attrs:{\"text\":'Зарегистрироваться',\"status\":'primary',\"disabled\":_vm.disabledButton},on:{\"click\":_vm.doRegister}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('article',{staticClass:\"card\"},[(!_vm.undeletable)?_c('button',{staticClass:\"card__cancel\",on:{\"click\":function($event){return _vm.removeCard()}}}):_vm._e(),_c('v-app',[_c('label',[_c('span',{staticClass:\"card__label\"},[_vm._v(\"Фамилия, как указана в билете\")]),_c('v-text-field',{staticStyle:{\"border-radius\":\"50px\"},attrs:{\"placeholder\":\"IVANOV\",\"required\":\"\",\"outlined\":\"\",\"color\":\"#07237E\",\"error\":_vm.showMessageLastName,\"error-messages\":_vm.textMessageLastName,\"disabled\":_vm.isConfirmed || _vm.statusFlight !== 'OPENED',\"rules\":[\n          () => !!_vm.lastName || 'Это поле обязательно',\n          (value) => (value && value.length >= 3) || 'Имя минимум 3 символа',\n        ]},model:{value:(_vm.lastName),callback:function ($$v) {_vm.lastName=$$v},expression:\"lastName\"}})],1),_c('label',{staticClass:\"card__container-ticket\"},[_c('span',{staticClass:\"card__label\"},[_vm._v(\" Номер билета \")]),_c('v-text-field',{staticStyle:{\"border-radius\":\"50px\"},attrs:{\"placeholder\":\"1234567891234\",\"required\":\"\",\"outlined\":\"\",\"error\":_vm.showMessageTicketNumber,\"error-messages\":_vm.textMessageTicketNumber,\"disabled\":_vm.isConfirmed || _vm.statusFlight !== 'OPENED',\"persistent-hint\":_vm.$vuetify.breakpoint.width <= 450,\"color\":\"#07237E\",\"hint\":\"<div class=\\\"card__notification\\\">\\n      <span class=\\\"card__notification-message\\\"\\n        >Номер билета из 13 цифр. Пример: 5550123456789</span\\n      ><br /><span class=\\\"card__notification-message\\\"\\n        >Номер брони из 6 символов. Пример: XZKLDR</span\\n      >\\n    </div> \",\"rules\":[() => !!_vm.ticketNumber || 'Это поле обязательно']},scopedSlots:_vm._u([{key:\"message\",fn:function({ message }){return [_c('span',{domProps:{\"innerHTML\":_vm._s(message)}})]}}]),model:{value:(_vm.ticketNumber),callback:function ($$v) {_vm.ticketNumber=$$v},expression:\"ticketNumber\"}})],1),_c('div',{staticClass:\"card__place\"},[(_vm.chosenSeat && _vm.statusFlight === 'OPENED')?_c('v-text-field',{staticClass:\"card__place-input\",staticStyle:{\"border-radius\":\"50px\",\"margin-right\":\"15px\"},attrs:{\"placeholder\":\"Место\",\"value\":_vm.chosenSeat,\"required\":\"\",\"outlined\":\"\",\"disabled\":\"\",\"hide-details\":\"\"}}):_vm._e(),(_vm.statusFlight === 'OPENED' && !_vm.showErrorNoConfirmed)?_c('BaseButton',{class:'card__button',attrs:{\"text\":_vm.textButton,\"disabled\":!_vm.lastName || !_vm.ticketNumber || !_vm.canChangeSeat,\"status\":'primary',\"loading\":_vm.loadingBtn},on:{\"click\":_vm.addPersonOrChoseSeat}}):_vm._e()],1),_c('div',{staticClass:\"card__warning\"},[(_vm.showErrorNoConfirmed && !_vm.personChangedInputs)?_c('v-alert',{attrs:{\"text\":\"\",\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.textErrorNoConfirmed)+\" \")]):_vm._e(),(_vm.statusFlight !== 'OPENED')?_c('v-alert',{attrs:{\"text\":\"\",\"type\":\"warning\"}},[_vm._v(\" \"+_vm._s(_vm.textWarning)+\" \")]):_vm._e()],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-btn',{class:_vm.classes,attrs:{\"x-large\":\"\",\"elevation\":\"0\",\"rounded\":\"\",\"color\":_vm.color,\"loading\":_vm.loading,\"disabled\":_vm.disabled},on:{\"click\":function($event){return _vm.click()}}},[_vm._v(_vm._s(_vm.text))])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const GREEN = \"#A7C42A\";\nexport const BLUE = \"#07237E\";\nexport const colors = [\n  \"#E2A2ED\",\n  \"#FFCD82\",\n  \"#FFAF82\",\n  \"#FF8282\",\n  \"#7fb5b5\",\n  \"#9d9101\",\n  \"#382c1e\",\n  \"#1e2460\",\n];\n","<template>\n  <v-btn\n    @click=\"click()\"\n    x-large\n    :class=\"classes\"\n    elevation=\"0\"\n    rounded\n    :color=\"color\"\n    :loading=\"loading\"\n    :disabled=\"disabled\"\n    >{{ text }}</v-btn\n  >\n</template>\n\n<script>\nimport { GREEN, BLUE } from \"@/constants\";\nexport default {\n  name: \"BaseButton\",\n  props: {\n    globalState: {\n      type: String,\n      default: \"green\",\n    },\n    text: {\n      type: String,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    status: {\n      type: String,\n      default: \"primary\",\n    },\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    color() {\n      return this.globalState === \"green\" ? GREEN : BLUE;\n    },\n    classes() {\n      return this.status === \"primary\"\n        ? \"button button__primary\"\n        : \"button button__secondary\";\n    },\n  },\n  methods: {\n    click() {\n      this.$emit(\"click\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.button__primary {\n  & + .v-btn__content {\n    color: #fff;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BaseButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BaseButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseButton.vue?vue&type=template&id=7a2a1804&scoped=true&\"\nimport script from \"./BaseButton.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseButton.vue?vue&type=style&index=0&id=7a2a1804&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a2a1804\",\n  null\n  \n)\n\nexport default component.exports","import { nanoid } from \"nanoid\";\nimport { defineStore } from \"pinia\";\nimport { useUsers } from \"@/store/users\";\n\nexport const useCards = defineStore(\"cards\", {\n  state: () => ({\n    cards: [],\n  }),\n  getters: {\n    getCardIndexById() {\n      return (id) => this.cards.findIndex((card) => card.id === id);\n    },\n    getCardByTicketNumber() {\n      return (ticketNumber) =>\n        this.cards.find((card) => card.ticketNumber === ticketNumber);\n    },\n    getCardIdByIndexPerson() {\n      const usersStore = useUsers();\n      return function (index) {\n        const person = usersStore.persons[index];\n        return this.getCardByTicketNumber(person.ticketNumber).id;\n      };\n    },\n  },\n  actions: {\n    patchCard(id, data) {\n      const cards = [...this.cards];\n      const i = this.getCardIndexById(id);\n\n      cards[i] = { ...cards[i], ...data };\n      this.cards = cards;\n    },\n\n    validateCard(id) {\n      const i = this.getCardIndexById(id);\n      const existsCard = this.getCardByTicketNumber(this.cards[i].ticketNumber);\n      let notification = {};\n      if (existsCard && existsCard.id !== id) {\n        notification = {\n          message: \"Пассажир с таким номером билета уже заполнен\",\n          type: \"ticketNumber\",\n        };\n        this.cards[i].isValidTicketNumber = false;\n        return notification;\n      } else if (this.cards[i].ticketNumber.length !== 13) {\n        notification = {\n          message: \"Некорректный номер билета\",\n          type: \"ticketNumber\",\n        };\n        this.cards[i].isValidTicketNumber = false;\n        return notification;\n      } else if (this.cards[i].lastName.match(/^\\d+$/)) {\n        notification = {\n          message: \"Имя введено не корректно\",\n          type: \"lastName\",\n        };\n      } else {\n        this.cards[i].isValidTicketNumber = true;\n        this.cards[i].isValidLastName = true;\n      }\n      return notification;\n    },\n\n    createCard({ lastName, ticketNumber, mapSeats }, extraFields) {\n      const initializeId = () => {\n        const id = nanoid(5);\n        if (this.getCardIndexById(id) !== -1) {\n          initializeId();\n        } else return id;\n      };\n      const objCard = { ...extraFields };\n      objCard.id = initializeId();\n      objCard.lastName = lastName || \"\";\n      objCard.ticketNumber = ticketNumber || \"\";\n      objCard.mapSeats = mapSeats || null;\n      this.cards.push(objCard);\n    },\n\n    deleteCard({ id, ticketNumber }, isConfirmed) {\n      const usersStore = useUsers();\n      if (isConfirmed) usersStore.deletePerson(ticketNumber);\n      this.cards.splice(this.getCardIndexById(id), 1);\n    },\n  },\n});\n","import { ref } from \"vue\";\nimport { useUsers } from \"@/store/users\";\nimport { useCards } from \"@/store/cards\";\n\nexport default function useCardPassenger() {\n  const storeUsers = useUsers();\n  const storeCards = useCards();\n  const lastName = ref(\"\");\n  const ticketNumber = ref(\"\");\n  const textButton = ref(\"Добавить\");\n  const mapSeats = ref(null);\n  const chosenSeat = ref(null);\n  const id = ref(null);\n  const loadingBtn = ref(false);\n  const isConfirmed = ref(false);\n\n  function removeCard() {\n    storeCards.deleteCard(\n      { id: id.value, ticketNumber: ticketNumber.value },\n      isConfirmed.value\n    );\n  }\n\n  return {\n    lastName,\n    ticketNumber,\n    mapSeats,\n    chosenSeat,\n    loadingBtn,\n    id,\n    storeUsers,\n    removeCard,\n    textButton,\n    isConfirmed,\n  };\n}\n","<template>\n  <article class=\"card\">\n    <button\n      v-if=\"!undeletable\"\n      @click=\"removeCard()\"\n      class=\"card__cancel\"\n    ></button>\n    <v-app>\n      <label>\n        <span class=\"card__label\">Фамилия, как указана в билете</span>\n        <v-text-field\n          v-model=\"lastName\"\n          placeholder=\"IVANOV\"\n          style=\"border-radius: 50px\"\n          required\n          outlined\n          color=\"#07237E\"\n          :error=\"showMessageLastName\"\n          :error-messages=\"textMessageLastName\"\n          :disabled=\"isConfirmed || statusFlight !== 'OPENED'\"\n          :rules=\"[\n            () => !!lastName || 'Это поле обязательно',\n            (value) => (value && value.length >= 3) || 'Имя минимум 3 символа',\n          ]\"\n        ></v-text-field>\n      </label>\n      <label class=\"card__container-ticket\">\n        <span class=\"card__label\"> Номер билета </span>\n        <v-text-field\n          v-model=\"ticketNumber\"\n          placeholder=\"1234567891234\"\n          style=\"border-radius: 50px\"\n          required\n          outlined\n          :error=\"showMessageTicketNumber\"\n          :error-messages=\"textMessageTicketNumber\"\n          :disabled=\"isConfirmed || statusFlight !== 'OPENED'\"\n          :persistent-hint=\"$vuetify.breakpoint.width <= 450\"\n          color=\"#07237E\"\n          hint='<div class=\"card__notification\">\n        <span class=\"card__notification-message\"\n          >Номер билета из 13 цифр. Пример: 5550123456789</span\n        ><br /><span class=\"card__notification-message\"\n          >Номер брони из 6 символов. Пример: XZKLDR</span\n        >\n      </div> '\n          :rules=\"[() => !!ticketNumber || 'Это поле обязательно']\"\n        >\n          <template v-slot:message=\"{ message }\">\n            <span v-html=\"message\"></span>\n          </template>\n        </v-text-field>\n      </label>\n      <div class=\"card__place\">\n        <!-- <span class=\"card__label\">Место</span> -->\n        <v-text-field\n          v-if=\"chosenSeat && statusFlight === 'OPENED'\"\n          style=\"border-radius: 50px; margin-right: 15px\"\n          placeholder=\"Место\"\n          :value=\"chosenSeat\"\n          class=\"card__place-input\"\n          required\n          outlined\n          disabled\n          hide-details\n        ></v-text-field>\n        <BaseButton\n          v-if=\"statusFlight === 'OPENED' && !showErrorNoConfirmed\"\n          :class=\"'card__button'\"\n          :text=\"textButton\"\n          :disabled=\"!lastName || !ticketNumber || !canChangeSeat\"\n          :status=\"'primary'\"\n          :loading=\"loadingBtn\"\n          @click=\"addPersonOrChoseSeat\"\n        />\n      </div>\n\n      <div class=\"card__warning\">\n        <v-alert\n          text\n          type=\"error\"\n          v-if=\"showErrorNoConfirmed && !personChangedInputs\"\n        >\n          {{ textErrorNoConfirmed }}\n        </v-alert>\n        <v-alert text type=\"warning\" v-if=\"statusFlight !== 'OPENED'\">\n          {{ textWarning }}\n        </v-alert>\n      </div>\n    </v-app>\n  </article>\n</template>\n\n<script>\nimport { onMounted, watch, ref, reactive, nextTick } from \"vue\";\nimport BaseButton from \"@/components/BaseButton.vue\";\nimport useCardPassenger from \"@/hooks/useCardPassenger\";\nimport { useCards } from \"@/store/cards\";\nimport { getKeyFlight } from \"@/helpers\";\n// import { event } from \"vue-gtag\";\nimport { useGtm } from \"@gtm-support/vue2-gtm\";\n\nexport default {\n  name: \"CardPassenger\",\n  components: { BaseButton },\n  props: {\n    undeletable: {\n      type: Boolean,\n      default: false,\n    },\n    card: {\n      type: Object,\n      required: true,\n    },\n  },\n  emit: [\"openCardMap\"],\n  setup(props, { emit }) {\n    const gtm = useGtm();\n    const storeCards = useCards();\n    const personChangedInputs = ref(false);\n    const errorLog = reactive({ message: null, type: null });\n    const showErrorNoConfirmed = ref(false);\n    const textErrorNoConfirmed = ref(\"\");\n    const showMessageLastName = ref(false);\n    const textMessageLastName = ref(null);\n    const showMessageTicketNumber = ref(false);\n    const textMessageTicketNumber = ref(null);\n    const checked = ref(null);\n    const textWarning = ref(\"\");\n    const canChangeSeat = ref(null);\n\n    const statusFlight = ref(null);\n    const {\n      lastName,\n      ticketNumber,\n      mapSeats,\n      chosenSeat,\n      loadingBtn,\n      id,\n      storeUsers,\n      removeCard,\n      textButton,\n      isConfirmed,\n    } = useCardPassenger();\n\n    async function addPersonOrChoseSeat() {\n      if (isConfirmed.value) {\n        storeUsers.updatePerson(\n          storeUsers.findIndexPersonByTicket(ticketNumber.value),\n          {\n            active: true,\n          }\n        );\n        // event(\"choose_seat\", { method: \"Google\" });\n        gtm.trackEvent({\n          event: \"choose_seat\",\n          category: \"category\",\n          action: \"click\",\n          label: \"My custom component trigger\",\n          value: 5000,\n          noninteraction: false,\n        });\n        emit(\"openCardMap\");\n      } else {\n        handlerNotification(storeCards.validateCard(id.value));\n        await verifyPerson(id.value);\n        personChangedInputs.value = false;\n      }\n    }\n\n    function handlerNotification(objError) {\n      if (Object.getOwnPropertyNames(objError).length === 0) return;\n      if (objError.type === \"ticketNumber\") {\n        showMessageTicketNumber.value = true;\n        textMessageTicketNumber.value = objError.message;\n      } else if (objError.type === \"lastName\") {\n        showMessageLastName.value = true;\n        textMessageLastName.value = objError.message;\n      }\n    }\n\n    async function getFlight({ lastName, ticketNumber, index = 0 }) {\n      const res = await storeUsers.getInfoFlight(\n        {\n          lastName,\n          ticketNumber,\n        },\n        index\n      );\n\n      if (res?.compatibility === false) {\n        showErrorNoConfirmed.value = true;\n        textErrorNoConfirmed.value =\n          \"Этот пользователь не летит с вами в одном самолете\";\n        loadingBtn.value = false;\n        return;\n      }\n\n      if (res.instancePerson.normalSeat) {\n        chosenSeat.value = res.instancePerson.normalSeat;\n      }\n\n      if (res.instancePerson?.possibleActions?.length) {\n        canChangeSeat.value =\n          res.instancePerson.possibleActions.includes(\"CHANGE_SEAT\");\n      } else canChangeSeat.value = false;\n\n      checked.value = res.checked;\n\n      if (!storeUsers.basePersonIsDefined) {\n        emit(\"updateFlightInfo\", res.flightInfo);\n        storeUsers.basePersonIsDefined = true;\n      }\n      isConfirmed.value = true;\n      storeCards.patchCard(id.value, {\n        isConfirmed: isConfirmed.value,\n        mapSeats: res.mapSeats,\n        normalSeat: res.instancePerson.normalSeat,\n        possibleActions: res.instancePerson.possibleActions,\n      });\n    }\n\n    async function verifyPerson() {\n      const i = storeCards.getCardIndexById(id.value);\n      const card = storeCards.cards[i];\n      if (card.isValidTicketNumber && card.isValidLastName) {\n        loadingBtn.value = true;\n\n        const response = await storeUsers.checkValidPassenger({\n          lastName: lastName.value,\n          ticketNumber: ticketNumber.value,\n        });\n\n        if (String(response?.code).startsWith(\"4\")) {\n          showErrorNoConfirmed.value = true;\n          isConfirmed.value = false;\n        } else if (response.result === \"SELECT_SEGMENTS_GROUP\") {\n          if (!storeUsers.basePersonIsDefined) {\n            storeUsers.parseSegments(response);\n            storeUsers.dialog = true;\n            storeUsers.basePerson.ticket_number = ticketNumber.value;\n            storeUsers.basePerson.last_name = lastName.value;\n          } else {\n            const flightKeys =\n              response.selectSegmentsGroupCase.segmentGroups.map((segment) =>\n                getKeyFlight(segment[0])\n              );\n            if (!flightKeys.includes(storeUsers.flightKey)) {\n              showErrorNoConfirmed.value = true;\n              textErrorNoConfirmed.value =\n                \"Этот пользователь не летит с вами в одном самолете\";\n            } else {\n              await getFlight({\n                lastName: lastName.value,\n                ticketNumber: ticketNumber.value,\n                index: flightKeys.findIndex(\n                  (key) => key === storeUsers.flightKey\n                ),\n              });\n            }\n          }\n        } else if (response.result === \"CAPTCHA_REQUIRED\") {\n          showErrorNoConfirmed.value = true;\n          personChangedInputs.value = false;\n          textErrorNoConfirmed.value = \"Исчерпан лимит запросов\";\n        } else if (response.result === \"OK\") {\n          await getFlight({\n            lastName: lastName.value,\n            ticketNumber: ticketNumber.value,\n          });\n        }\n\n        loadingBtn.value = false;\n      }\n    }\n\n    watch([lastName, ticketNumber], () => {\n      showErrorNoConfirmed.value = false;\n      personChangedInputs.value = true;\n      showMessageTicketNumber.value = false;\n      textMessageTicketNumber.value = null;\n      showMessageLastName.value = false;\n      textMessageLastName.value = null;\n      if (id.value)\n        storeCards.patchCard(id.value, {\n          lastName: lastName.value,\n          ticketNumber: ticketNumber.value,\n        });\n    });\n\n    watch(\n      () => storeCards.cards,\n      () => {\n        const i = storeCards.getCardIndexById(id.value);\n        const thisCard = storeCards.cards[i];\n        chosenSeat.value = thisCard.normalSeat;\n        textButton.value = chosenSeat.value ? \"Изменить\" : \"Выбрать место\";\n        if (!thisCard.isConfirmed) {\n          textButton.value = \"Добавить\";\n        }\n        if (thisCard?.notification) {\n          errorLog.message = thisCard.notification.message;\n          errorLog.type = thisCard.notification.type;\n        }\n      },\n      { deep: true }\n    );\n\n    watch(\n      () => storeUsers.statusFlight,\n      (val) => {\n        textWarning.value = \"Регистрация завершена\";\n        statusFlight.value = val || \"OPENED\";\n      },\n      { immediate: true }\n    );\n\n    onMounted(async () => {\n      isConfirmed.value = props.card.isConfirmed;\n      textButton.value = props.card.isConfirmed ? \"Выбрать место\" : \"Добавить\";\n      lastName.value = props.card.lastName;\n      ticketNumber.value = props.card.ticketNumber;\n      mapSeats.value = props.card.mapSeats;\n      checked.value = props.card.checked;\n      textWarning.value = storeUsers.registerIsStarted\n        ? storeUsers.statusFlight !== \"OPENED\"\n          ? \"Регистрация завершена\"\n          : null\n        : \"Регистрация еще не началась\";\n      canChangeSeat.value = true;\n      if (props.card.possibleActions)\n        canChangeSeat.value =\n          props.card.possibleActions.includes(\"CHANGE_SEAT\");\n\n      if (props.card.checked) chosenSeat.value = props.card.seat;\n      id.value = props.card.id;\n\n      if (!props.card.personIsDefined) {\n        await nextTick();\n        showErrorNoConfirmed.value = props.card.personIdDefined ? false : true;\n        personChangedInputs.value = false;\n        textErrorNoConfirmed.value =\n          \"По заданным параметрам пассажир не найден\";\n      }\n    });\n\n    return {\n      addPersonOrChoseSeat,\n      personChangedInputs,\n      errorLog,\n      showErrorNoConfirmed,\n\n      lastName,\n      ticketNumber,\n      mapSeats,\n      chosenSeat,\n      loadingBtn,\n      removeCard,\n      textButton,\n      isConfirmed,\n      storeUsers,\n\n      showMessageLastName,\n      textMessageLastName,\n      showMessageTicketNumber,\n      textMessageTicketNumber,\n\n      textErrorNoConfirmed,\n      textWarning,\n      checked,\n\n      statusFlight,\n      canChangeSeat,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.theme--light.v-application {\n  background: transparent;\n  height: 100%;\n}\n\n.card__label {\n  display: block;\n  width: 100%;\n  margin-bottom: 10px;\n}\n\n.card__warning {\n  .v-alert:not(.v-sheet--tile) {\n    border-radius: 40px;\n  }\n}\n\n.v-text-field__details {\n  @media (max-width: 445px) {\n    padding: 0;\n  }\n}\n\n.card__notification {\n  @media (max-width: 445px) {\n    height: 80px;\n  }\n}\n\n.card__container-ticket {\n  min-height: 140px;\n  display: flex;\n  flex-direction: column;\n}\n\n.card__button {\n  width: 158px;\n\n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n\n  & .v-btn__content {\n    font-size: 18px;\n  }\n}\n\n.card__place {\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: auto;\n\n  &-input {\n    @media (max-width: 500px) {\n      width: 100px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CardPassenger.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CardPassenger.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardPassenger.vue?vue&type=template&id=27dbb52f&scoped=true&\"\nimport script from \"./CardPassenger.vue?vue&type=script&lang=js&\"\nexport * from \"./CardPassenger.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardPassenger.vue?vue&type=style&index=0&id=27dbb52f&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27dbb52f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-map\"},[_c('div',{staticClass:\"card-map__left-side\"},[(_vm.loadingLi.status)?_c('div',{staticClass:\"card-map__overlay\"}):_vm._e(),_c('span',{staticClass:\"card-map__description\"},[_vm._v(\"Выберите место для пассажиров:\")]),(_vm.$vuetify.breakpoint.width > 900)?_c('ul',{staticClass:\"card-map__list\"},_vm._l((_vm.store.persons),function(person,index){return _c('li',{key:index,ref:\"items\",refInFor:true,staticClass:\"card-map__item\",class:_vm.setClass(person),attrs:{\"data-index\":index}},[(_vm.loadingLi.indexPerson === index && _vm.loadingLi.status)?_c('div',{staticClass:\"card-map__item-button\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"40\",\"color\":_vm.BLUE}})],1):_c('button',{staticClass:\"card-map__item-button\",on:{\"click\":function($event){return _vm.setPerson(index)}}},[_c('strong',{staticClass:\"card-map__item-name\"},[_vm._v(_vm._s(person.fullName + \" \" + person.lastName))]),_c('span',{staticClass:\"card-map__item-status\"},[_vm._v(_vm._s(_vm.doPersonStatus(person)))])])])}),0):_vm._e(),(_vm.$vuetify.breakpoint.width <= 900)?_c('v-select',{staticStyle:{\"border-radius\":\"8px\"},attrs:{\"items\":_vm.store.persons,\"item-disabled\":(person) => !person.possibleActions.includes('CHANGE_SEAT'),\"background-color\":\"white\",\"hide-details\":\"\",\"return-object\":\"\",\"single-line\":\"\",\"disabled\":_vm.loadingSelect,\"loading\":_vm.loadingSelect,\"label\":\"select\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('div',{staticClass:\"card-map__item-button\",class:_vm.setClass(data.item)},[_c('strong',{staticClass:\"card-map__item-name\"},[_vm._v(_vm._s(data.item.fullName + \" \" + data.item.lastName))]),_c('span',{staticClass:\"card-map__item-status\"},[_vm._v(_vm._s(data.item?.normalSeat ? `Место ${data.item.normalSeat} за ${_vm.numberFormat( data.item.seatRate )} ₽` : \"Место не выбрано\"))])])]}},{key:\"item\",fn:function(data){return [_c('div',{staticClass:\"card-map__item-button\",class:_vm.setClass(data.item)},[_c('strong',{staticClass:\"card-map__item-name\"},[_vm._v(_vm._s(data.item.fullName + \" \" + data.item.lastName))]),_c('span',{staticClass:\"card-map__item-status\"},[_vm._v(_vm._s(data.item?.normalSeat ? `Место ${data.item.normalSeat} за ${_vm.numberFormat( data.item.seatRate )} ₽` : \"Место не выбрано\"))])])]}}],null,false,3413520732),model:{value:(_vm.currentPerson),callback:function ($$v) {_vm.currentPerson=$$v},expression:\"currentPerson\"}}):_vm._e(),_c('div',{staticClass:\"card-map__group-button\"},[(_vm.store.checkSeats)?_c('BaseButton',{staticClass:\"button button__primary card-map__button\",attrs:{\"text\":\"Зарегистрироваться\"},on:{\"click\":function($event){return _vm.wrapperToEmailFrom()}}}):_c('BaseButton',{staticClass:\"button button__primary card-map__button\",attrs:{\"text\":\"Продолжить выбор мест\"},on:{\"click\":function($event){return _vm.setNextPerson()}}}),_c('button',{staticClass:\"card-map__cancel\",on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" Отменить \")])],1)],1),(_vm.currentSeatsMap)?_c('div',{staticClass:\"card-map__right-side\"},[_c('MapSeats',{attrs:{\"map-seats\":_vm.currentSeatsMap,\"person\":_vm.currentPerson},on:{\"update\":function($event){return _vm.setSeatCurrentPerson($event)},\"forceUpdate\":function($event){return _vm.setSeatCurrentPersonDOM($event)}}})],1):_vm._e(),_c('div',{staticClass:\"card-map__group-button mobile-buttons\"},[(_vm.store.checkSeats)?_c('BaseButton',{staticClass:\"button button__primary card-map__button\",attrs:{\"text\":\"Зарегистрироваться\"},on:{\"click\":function($event){return _vm.wrapperToEmailFrom()}}}):_c('BaseButton',{staticClass:\"button button__primary card-map__button\",attrs:{\"text\":\"Продолжить выбор мест\"},on:{\"click\":function($event){return _vm.setNextPerson()}}}),_c('button',{staticClass:\"card-map__cancel\",on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\"Отменить\")])],1),_c('v-snackbar',{attrs:{\"timeout\":3000},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"color\":\"blue\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Закрыть \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarText)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-map__map-container\"},[_c('table',{staticClass:\"card-map__map\"},[_c('tr',{staticClass:\"card-map__horizontal-list\"},_vm._l((_vm.uniqueHeaderLetters),function(letter,index){return _c('td',{key:index,staticClass:\"card-map__map-seat\",class:letter === '' ? 'empty' : ''},[_c('span',{staticClass:\"card-map__map-column\"},[_vm._v(_vm._s(letter))])])}),0),_vm._l((_vm.mapSeatsModified),function(line,indexExternal){return _c('tr',{key:indexExternal,staticClass:\"card-map__horizontal-row\"},[_c('td',{staticClass:\"card-map__row-number\"},[_c('span',{staticClass:\"card-map__map-row\"},[_vm._v(_vm._s(line.row_number))])]),_vm._l((line.seats),function(seat,indexInternal){return _c('td',{key:indexInternal,staticClass:\"card-map__map-seat\",class:_vm.calculateStatusSeat(seat),attrs:{\"data-index\":`${indexExternal}:${indexInternal}`}},[(_vm.calculateStatusSeat(seat) !== 'empty')?_c('button',{staticClass:\"card-map__map-button\",style:(seat?.priceColor ? `background-color:${seat.priceColor}` : ''),on:{\"click\":function($event){return _vm.doChoosePlace(seat, `${indexExternal}:${indexInternal}`, _vm.person)}}}):_vm._e()])})],2)}),_c('tr',{staticClass:\"card-map__price-container\"},[_c('td',[_c('aside',[_vm._m(0),_c('ul',{staticClass:\"card-map__price-list card-map__price-list--custom\"},_vm._l((_vm.uniquePrice),function(color,index){return _c('li',{key:index,staticClass:\"card-map__price-item\",style:(`color:${color.color}`),attrs:{\"data-color\":color.color}},[_c('span',{staticClass:\"card-map__price-description\"},[_vm._v(_vm._s(color.price)+\" ₽\")])])}),0)])])])],2)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"card-map__price-list\"},[_c('li',{staticClass:\"card-map__price-item chosen\"},[_c('span',[_vm._v(\"Выбрано\")])]),_c('li',{staticClass:\"card-map__price-item occupied\"},[_c('span',[_vm._v(\"Занято\")])])])\n}]\n\nexport { render, staticRenderFns }","import { useUsers } from \"@/store/users\";\nimport { colors } from \"@/constants\";\nimport { ref } from \"vue\";\n\nexport default function useMapSeats(emit) {\n  const uniqueHeaderLetters = ref([]);\n  const uniquePrice = ref([]);\n  const chosenSeat = ref(null);\n  const mapSeatsModified = ref(null);\n  const storeUsers = useUsers();\n\n  function getUniquePrice(mapSeats) {\n    let i = 0;\n    const collections = mapSeats.rows;\n    const uniquPrice = [];\n\n    collections.forEach((currentLine) => {\n      const lineSeats = currentLine.seats;\n\n      lineSeats.forEach((currentSeat) => {\n        const currentPrice = currentSeat.rate;\n        if (\n          !uniquPrice.find(\n            (uniqCurrentPrice) => uniqCurrentPrice.price === currentPrice\n          ) &&\n          currentPrice\n        ) {\n          uniquPrice.push({ price: currentPrice, color: colors[i] });\n          i++;\n        }\n      });\n    });\n    uniquPrice.sort((a, b) => a.price - b.price);\n    return uniquPrice;\n  }\n\n  function calculateStatusSeat(seat) {\n    let classList = \"\";\n    if (seat.available && seat.exists) classList += \"free\";\n    else if (!seat.available && seat.exists) classList += \"occupied\";\n    else classList += \"empty\";\n    return classList;\n  }\n\n  function doChoosePlace(seat, index, person) {\n    if (seat.available) {\n      chosenSeat.value = seat;\n      const indexCurrentPerson = storeUsers.findIndexPersonByTicket(\n        person.ticketNumber\n      );\n\n      emit(\"update\", {\n        indexCurrentPerson,\n        indexElement: index,\n        rate: chosenSeat.value.rate,\n        seat: seat.seatNumber,\n      });\n    }\n  }\n\n  function modifyMapSeats(mapSeats) {\n    const map = mapSeats;\n    const xCount = map.xCount;\n    const newMap = [];\n\n    function createEmptySpace(newLine) {\n      if (newLine.length < xCount) {\n        newLine.push({\n          available: false,\n          exists: false,\n          rate: \"\",\n          seatNumber: \"\",\n        });\n        createEmptySpace(newLine);\n      }\n    }\n\n    map.rows.forEach((line) => {\n      const newLine = [];\n      line.seats.forEach((seat) => {\n        if (seat.rate) {\n          seat.priceColor = uniquePrice.value.find(\n            (p) => p.price === seat.rate\n          ).color;\n        }\n        newLine.push(seat);\n      });\n      createEmptySpace(newLine);\n      newMap.push({ seats: newLine, row_number: line.row_number });\n    });\n    return newMap;\n  }\n\n  return {\n    uniqueHeaderLetters,\n    uniquePrice,\n    chosenSeat,\n    mapSeatsModified,\n    storeUsers,\n\n    getUniquePrice,\n    calculateStatusSeat,\n    doChoosePlace,\n    modifyMapSeats,\n  };\n}\n","<template>\n  <div class=\"card-map__map-container\">\n    <table class=\"card-map__map\">\n      <tr class=\"card-map__horizontal-list\">\n        <td\n          class=\"card-map__map-seat\"\n          v-for=\"(letter, index) of uniqueHeaderLetters\"\n          :key=\"index\"\n          :class=\"letter === '' ? 'empty' : ''\"\n        >\n          <span class=\"card-map__map-column\">{{ letter }}</span>\n        </td>\n      </tr>\n      <tr\n        class=\"card-map__horizontal-row\"\n        v-for=\"(line, indexExternal) of mapSeatsModified\"\n        :key=\"indexExternal\"\n      >\n        <td class=\"card-map__row-number\">\n          <span class=\"card-map__map-row\">{{ line.row_number }}</span>\n        </td>\n        <td\n          v-for=\"(seat, indexInternal) of line.seats\"\n          :key=\"indexInternal\"\n          class=\"card-map__map-seat\"\n          :class=\"calculateStatusSeat(seat)\"\n          :data-index=\"`${indexExternal}:${indexInternal}`\"\n        >\n          <button\n            class=\"card-map__map-button\"\n            :style=\"\n              seat?.priceColor ? `background-color:${seat.priceColor}` : ''\n            \"\n            v-if=\"calculateStatusSeat(seat) !== 'empty'\"\n            @click=\"\n              doChoosePlace(seat, `${indexExternal}:${indexInternal}`, person)\n            \"\n          ></button>\n        </td>\n      </tr>\n\n      <tr class=\"card-map__price-container\">\n        <td>\n          <aside>\n            <ul class=\"card-map__price-list\">\n              <li class=\"card-map__price-item chosen\">\n                <span>Выбрано</span>\n              </li>\n              <li class=\"card-map__price-item occupied\">\n                <span>Занято</span>\n              </li>\n            </ul>\n            <ul class=\"card-map__price-list card-map__price-list--custom\">\n              <li\n                class=\"card-map__price-item\"\n                v-for=\"(color, index) in uniquePrice\"\n                :key=\"index\"\n                :data-color=\"color.color\"\n                :style=\"`color:${color.color}`\"\n              >\n                <span class=\"card-map__price-description\"\n                  >{{ color.price }} ₽</span\n                >\n              </li>\n            </ul>\n          </aside>\n        </td>\n      </tr>\n    </table>\n  </div>\n</template>\n\n<script>\nimport useMapSeats from \"@/hooks/useMapSeats\";\nimport { onMounted } from \"vue\";\nexport default {\n  name: \"MapSeats\",\n  props: {\n    mapSeats: {\n      type: Object,\n      requared: true,\n    },\n    person: {\n      type: Object,\n      requared: true,\n    },\n  },\n  setup(props, { emit }) {\n    const {\n      uniqueHeaderLetters,\n      uniquePrice,\n      chosenSeat,\n      mapSeatsModified,\n      storeUsers,\n\n      getUniquePrice,\n      calculateStatusSeat,\n      doChoosePlace,\n      modifyMapSeats,\n    } = useMapSeats(emit);\n\n    onMounted(() => {\n      uniqueHeaderLetters.value = props.mapSeats.names;\n      uniquePrice.value = getUniquePrice(props.mapSeats);\n      mapSeatsModified.value = modifyMapSeats(props.mapSeats);\n\n      console.log(props.person.normalSeat);\n      if (props.person.normalSeat) {\n        const seat = props.person.normalSeat;\n        const indexCurrentPerson = storeUsers.findIndexPersonByTicket(\n          props.person.ticketNumber\n        );\n        const extrenalIndex = parseInt(seat) - 1;\n        const internalIndex = uniqueHeaderLetters.value.findIndex(\n          (letter) => letter === seat.slice(-1)\n        );\n\n        const indexElement = `${extrenalIndex}:${internalIndex}`;\n\n        if (extrenalIndex !== -1 && internalIndex) {\n          emit(\"forceUpdate\", {\n            indexCurrentPerson,\n            indexElement,\n          });\n        }\n      }\n    });\n\n    return {\n      uniqueHeaderLetters,\n      uniquePrice,\n      chosenSeat,\n      mapSeatsModified,\n      storeUsers,\n\n      getUniquePrice,\n      calculateStatusSeat,\n      doChoosePlace,\n      modifyMapSeats,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.card-map__horizontal-row {\n  justify-content: center;\n}\n\n.card-map__price {\n  &-list {\n    display: flex;\n    list-style-type: none;\n    justify-items: center;\n    margin: auto;\n    padding: 0;\n    gap: 5px;\n    justify-content: space-evenly;\n\n    &--custom {\n      width: 65%;\n      display: flex;\n      justify-content: space-evenly;\n      flex-wrap: wrap;\n      grid-auto-rows: unset;\n      grid-template-columns: unset;\n      list-style-type: none;\n      justify-items: center;\n      margin: auto;\n      padding: 0;\n      gap: 5px;\n    }\n  }\n\n  &-description {\n    color: black;\n    font-size: 15px;\n    line-height: 16px;\n  }\n\n  &-item {\n    &:nth-child(2),\n    &:nth-child(1) {\n      text-align: center;\n    }\n\n    &::before {\n      content: \"\";\n      display: inline-block;\n      width: 10px;\n      height: 10px;\n      margin-right: 5px;\n      background-color: currentColor;\n    }\n\n    &.free::before {\n      border: 1px solid #ccc;\n    }\n\n    &.chosen::before {\n      background-color: #219653;\n    }\n\n    &.occupied::before {\n      background-color: #dcdcdc;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapSeats.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MapSeats.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapSeats.vue?vue&type=template&id=62f0c9a9&\"\nimport script from \"./MapSeats.vue?vue&type=script&lang=js&\"\nexport * from \"./MapSeats.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapSeats.vue?vue&type=style&index=0&id=62f0c9a9&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { ref, reactive, nextTick } from \"vue\";\nimport { nanoid } from \"nanoid\";\nimport { useUsers } from \"@/store/users\";\nimport { useCards } from \"@/store/cards\";\nimport { numberFormat } from \"@/helpers\";\n// import { event } from \"vue-gtag\";\nimport { useGtm } from \"@gtm-support/vue2-gtm\";\n\nexport default function useCardMap() {\n  const gtm = useGtm();\n  const currentPerson = ref(null);\n  const currentIndexPerson = ref(null);\n  const activeButtonElements = ref([]);\n  const snackbar = ref(false);\n  const snackbarText = ref(null);\n  const store = useUsers();\n  const storeCards = useCards();\n  const loadingSelect = ref(false);\n  const loadingLi = reactive({\n    status: false,\n    indexPerson: null,\n  });\n\n  function updateActivePerson(index) {\n    store.persons.forEach((p, i) => {\n      if (i === index) {\n        store.updatePerson(i, { active: true });\n      } else store.updatePerson(i, { active: false });\n    });\n  }\n\n  function doPersonStatus(person) {\n    if (person?.normalSeat && !person?.seatRate) {\n      return `Место ${person.normalSeat} за ${numberFormat(\n        store.findRateBySeat(person.mapSeats, person.normalSeat)\n      )} ₽`;\n\n      // if (!person.possibleActions.includes(\"CHANGE_SEAT\")) {\n      //   return `Место ${person.normalSeat} за ${store.findRateBySeat(\n      //     person.mapSeats,\n      //     person.normalSeat\n      //   )} ₽`;\n    } else {\n      return person?.normalSeat\n        ? `Место ${person.normalSeat} за ${numberFormat(person.seatRate)} ₽`\n        : \"Место не выбрано\";\n    }\n  }\n\n  async function setSeatCurrentPersonDOM({ indexCurrentPerson, indexElement }) {\n    await nextTick();\n    const activeSelectedSeat = document\n      .querySelector(`.card-map__map-seat[data-index=\"${indexElement}\"]`)\n      .querySelector(\".card-map__map-button\");\n    const letter = store.persons[indexCurrentPerson].lastName[0];\n    const currentPerson = activeButtonElements.value.find(\n      (li) => li?.personIndex === indexCurrentPerson\n    );\n\n    const className =\n      currentPerson?.activeClass || \"selected-active-\" + nanoid(5);\n\n    activeSelectedSeat.setAttribute(\"data-letter\", letter);\n    const indicator = activeSelectedSeat.classList.toggle(className);\n\n    if (!indicator) {\n      store.updatePerson(indexCurrentPerson, {\n        normalSeat: null,\n        seatRate: null,\n      });\n      storeCards.patchCard(\n        storeCards.getCardIdByIndexPerson(indexCurrentPerson),\n        { normalSeat: null }\n      );\n    }\n\n    const newActiveLiElement = {\n      personIndex: indexCurrentPerson,\n\n      activeLi: activeSelectedSeat,\n      lastActiveLi: currentPerson?.activeLi,\n      activeClass: className,\n\n      activeIndex: indexElement,\n      lastActiveIndex: currentPerson?.activeIndex,\n    };\n\n    const i = activeButtonElements.value.findIndex(\n      (li) => li?.personIndex === indexCurrentPerson\n    );\n    if (i !== -1) activeButtonElements.value.splice(i, 1);\n\n    activeButtonElements.value.push(newActiveLiElement);\n  }\n\n  async function setSeatCurrentPerson({\n    indexCurrentPerson,\n    indexElement,\n    rate: seatRate,\n    seat,\n  }) {\n    const otherPersonWithSameSeat = store.persons.find((p, i) => {\n      return p.normalSeat === seat && i !== indexCurrentPerson;\n    });\n\n    if (!otherPersonWithSameSeat) {\n      loadingSelect.value = true;\n      loadingLi.status = true;\n      loadingLi.indexPerson = indexCurrentPerson;\n      const response = await store\n        .checkAvailableSeat(\n          store.persons[indexCurrentPerson].ticketNumber,\n          seat\n        )\n        .then(() => {\n          loadingSelect.value = false;\n          if (loadingLi.indexPerson === indexCurrentPerson)\n            loadingLi.status = false;\n        });\n\n      console.log(response);\n      // event(\"select_seat\", { method: \"Google\" });\n      gtm.trackEvent({\n        event: \"select_seat\",\n        category: \"category\",\n        action: \"click\",\n        label: \"My custom component trigger\",\n        value: 5000,\n        noninteraction: false,\n      });\n      store.updatePerson(indexCurrentPerson, { normalSeat: seat, seatRate });\n      storeCards.patchCard(\n        storeCards.getCardIdByIndexPerson(indexCurrentPerson),\n        { normalSeat: seat }\n      );\n      updateActivePerson(indexCurrentPerson);\n      setSeatCurrentPersonDOM({ indexCurrentPerson, indexElement });\n    } else {\n      snackbarText.value = \"Это место уже выбрано!\";\n      snackbar.value = true;\n    }\n  }\n\n  function setNextPerson() {\n    const i = store.persons.findIndex(\n      (p) => !p.normalSeat && p.possibleActions.includes(\"CHANGE_SEAT\")\n    );\n    if (i === -1) return;\n    currentIndexPerson.value = i;\n    currentPerson.value = store.persons[currentIndexPerson.value];\n    updateActivePerson(currentIndexPerson.value);\n  }\n\n  return {\n    currentPerson,\n    currentIndexPerson,\n    activeButtonElements,\n    snackbar,\n    snackbarText,\n    loadingSelect,\n    loadingLi,\n\n    store,\n\n    setNextPerson,\n    setSeatCurrentPerson,\n    updateActivePerson,\n    doPersonStatus,\n    setSeatCurrentPersonDOM,\n  };\n}\n","import { ref } from \"vue\";\nimport { scrollTo } from \"@/helpers\";\n\nexport default function useCardMapDOM(\n  currentPerson,\n  updateActivePerson,\n  store\n) {\n  const items = ref(null);\n\n  function setClassSelected(index) {\n    items.value.forEach((btn) =>\n      btn.classList.remove(\"card-map__item--selected\")\n    );\n    document\n      .querySelector(`.card-map__item[data-index=\"${index}\"]`)\n      .classList.add(\"card-map__item--selected\");\n  }\n\n  function setPerson(index) {\n    setClassSelected(index);\n    updateActivePerson(index);\n    currentPerson.value = store.persons[index];\n  }\n\n  function setClass(person) {\n    let cls = \"\";\n    if (!person.possibleActions.includes(\"CHANGE_SEAT\"))\n      return \"card-map__item-button--disabled card-map__item--success\";\n    if (person.active) cls += \"card-map__item--selected \";\n    if (\n      store.persons.find((currentPerson) => {\n        if (\n          currentPerson?.normalSeat &&\n          currentPerson.ticketNumber === person.ticketNumber\n        )\n          return currentPerson;\n      })\n    ) {\n      cls += \"card-map__item--success \";\n    }\n    return cls;\n  }\n\n  function toEmailForm() {\n    const mailWin = document.getElementById(\"mail\");\n    scrollTo(mailWin);\n  }\n\n  return {\n    items,\n    setPerson,\n    setClass,\n    toEmailForm,\n  };\n}\n","<template>\n  <div class=\"card-map\">\n    <div class=\"card-map__left-side\">\n      <div class=\"card-map__overlay\" v-if=\"loadingLi.status\"></div>\n      <span class=\"card-map__description\">Выберите место для пассажиров:</span>\n      <ul class=\"card-map__list\" v-if=\"$vuetify.breakpoint.width > 900\">\n        <li\n          class=\"card-map__item\"\n          v-for=\"(person, index) of store.persons\"\n          :key=\"index\"\n          :data-index=\"index\"\n          :class=\"setClass(person)\"\n          ref=\"items\"\n        >\n          <div\n            v-if=\"loadingLi.indexPerson === index && loadingLi.status\"\n            class=\"card-map__item-button\"\n          >\n            <v-progress-circular\n              indeterminate\n              size=\"40\"\n              :color=\"BLUE\"\n            ></v-progress-circular>\n          </div>\n          <button\n            v-else\n            class=\"card-map__item-button\"\n            @click=\"setPerson(index)\"\n          >\n            <strong class=\"card-map__item-name\">{{\n              person.fullName + \" \" + person.lastName\n            }}</strong>\n            <span class=\"card-map__item-status\">{{\n              doPersonStatus(person)\n            }}</span>\n          </button>\n        </li>\n      </ul>\n\n      <v-select\n        v-if=\"$vuetify.breakpoint.width <= 900\"\n        v-model=\"currentPerson\"\n        :items=\"store.persons\"\n        :item-disabled=\"\n          (person) => !person.possibleActions.includes('CHANGE_SEAT')\n        \"\n        background-color=\"white\"\n        hide-details\n        return-object\n        single-line\n        :disabled=\"loadingSelect\"\n        :loading=\"loadingSelect\"\n        label=\"select\"\n        style=\"border-radius: 8px\"\n      >\n        <template v-slot:selection=\"data\">\n          <div class=\"card-map__item-button\" :class=\"setClass(data.item)\">\n            <strong class=\"card-map__item-name\">{{\n              data.item.fullName + \" \" + data.item.lastName\n            }}</strong>\n            <span class=\"card-map__item-status\">{{\n              data.item?.normalSeat\n                ? `Место ${data.item.normalSeat} за ${numberFormat(\n                    data.item.seatRate\n                  )} ₽`\n                : \"Место не выбрано\"\n            }}</span>\n          </div>\n        </template>\n        <template v-slot:item=\"data\">\n          <div class=\"card-map__item-button\" :class=\"setClass(data.item)\">\n            <strong class=\"card-map__item-name\">{{\n              data.item.fullName + \" \" + data.item.lastName\n            }}</strong>\n            <span class=\"card-map__item-status\">{{\n              data.item?.normalSeat\n                ? `Место ${data.item.normalSeat} за ${numberFormat(\n                    data.item.seatRate\n                  )} ₽`\n                : \"Место не выбрано\"\n            }}</span>\n          </div>\n        </template>\n      </v-select>\n\n      <div class=\"card-map__group-button\">\n        <BaseButton\n          v-if=\"store.checkSeats\"\n          text=\"Зарегистрироваться\"\n          class=\"button button__primary card-map__button\"\n          @click=\"wrapperToEmailFrom()\"\n        />\n\n        <BaseButton\n          v-else\n          @click=\"setNextPerson()\"\n          text=\"Продолжить выбор мест\"\n          class=\"button button__primary card-map__button\"\n        />\n        <button class=\"card-map__cancel\" @click=\"$emit('close')\">\n          Отменить\n        </button>\n      </div>\n    </div>\n    <div class=\"card-map__right-side\" v-if=\"currentSeatsMap\">\n      <MapSeats\n        :map-seats=\"currentSeatsMap\"\n        :person=\"currentPerson\"\n        @update=\"setSeatCurrentPerson($event)\"\n        @forceUpdate=\"setSeatCurrentPersonDOM($event)\"\n      />\n    </div>\n    <div class=\"card-map__group-button mobile-buttons\">\n      <BaseButton\n        v-if=\"store.checkSeats\"\n        text=\"Зарегистрироваться\"\n        class=\"button button__primary card-map__button\"\n        @click=\"wrapperToEmailFrom()\"\n      />\n\n      <BaseButton\n        v-else\n        @click=\"setNextPerson()\"\n        text=\"Продолжить выбор мест\"\n        class=\"button button__primary card-map__button\"\n      />\n      <button class=\"card-map__cancel\" @click=\"$emit('close')\">Отменить</button>\n    </div>\n    <v-snackbar v-model=\"snackbar\" :timeout=\"3000\">\n      {{ snackbarText }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn color=\"blue\" text v-bind=\"attrs\" @click=\"snackbar = false\">\n          Закрыть\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </div>\n</template>\n\n<script>\nimport MapSeats from \"@/components/MapSeats.vue\";\nimport BaseButton from \"@/components/BaseButton.vue\";\nimport { numberFormat } from \"@/helpers\";\nimport useCardMap from \"@/hooks/useCardMap\";\nimport useCardMapDOM from \"@/hooks/useCardMapDOM\";\nimport { BLUE } from \"@/constants\";\nimport { ref, watch } from \"vue\";\n// import { event } from \"vue-gtag\";\nimport { useGtm } from \"@gtm-support/vue2-gtm\";\n\nexport default {\n  name: \"CardMap\",\n  components: { MapSeats, BaseButton },\n  props: {\n    open: {\n      type: Boolean,\n    },\n  },\n\n  setup(props, { emit }) {\n    const gtm = useGtm();\n    const currentSeatsMap = ref(null);\n    const {\n      currentPerson,\n      currentIndexPerson,\n      activeButtonElements,\n      snackbar,\n      snackbarText,\n      store,\n      setNextPerson,\n      setSeatCurrentPerson,\n      setSeatCurrentPersonDOM,\n      updateActivePerson,\n      loadingSelect,\n      loadingLi,\n      doPersonStatus,\n    } = useCardMap();\n\n    const { items, setPerson, setClass, toEmailForm } = useCardMapDOM(\n      currentPerson,\n      updateActivePerson,\n      store\n    );\n\n    function wrapperToEmailFrom() {\n      emit(\"close\");\n      // event(\"gopay_map\", { method: \"Google\" });\n      gtm.trackEvent({\n        event: \"gopay_map\",\n        category: \"category\",\n        action: \"click\",\n        label: \"My custom component trigger\",\n        value: 5000,\n        noninteraction: false,\n      });\n      toEmailForm();\n    }\n\n    watch(currentPerson, (val) => {\n      currentSeatsMap.value = val.mapSeats;\n    });\n\n    watch(\n      () => props.open,\n      (val) => {\n        if (val) {\n          setNextPerson();\n        }\n      }\n    );\n\n    watch(\n      () => store.persons,\n      () => {\n        currentPerson.value = store.activePerson;\n      },\n      { immediate: true, deep: true }\n    );\n\n    watch(\n      activeButtonElements,\n      (val) => {\n        val.forEach((btn) => {\n          if (btn?.lastActiveLi !== btn.activeLi && btn?.lastActiveLi) {\n            btn.lastActiveLi.classList.remove(btn.activeClass);\n          }\n        });\n      },\n      { deep: true }\n    );\n\n    return {\n      numberFormat,\n      currentPerson,\n      currentIndexPerson,\n      activeButtonElements,\n      snackbar,\n      snackbarText,\n      store,\n      currentSeatsMap,\n      setNextPerson,\n      setSeatCurrentPerson,\n      setSeatCurrentPersonDOM,\n      updateActivePerson,\n      loadingSelect,\n      loadingLi,\n\n      setClass,\n      setPerson,\n      items,\n\n      wrapperToEmailFrom,\n      BLUE,\n      doPersonStatus,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.vh {\n  display: none;\n}\n\n.card-map__item {\n  position: relative;\n}\n\n.v-bottom-sheet.v-dialog {\n  overflow: unset !important;\n\n  @media (max-width: 900px) {\n    overflow-y: scroll !important;\n  }\n}\n\n.card-map__item--selected {\n  & .card-map__item-button {\n    max-width: 370px;\n  }\n}\n\n.card-map__item-button {\n  &--disabled {\n    &::before {\n      content: \"\";\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      background-color: rgba(255, 255, 255, 0.5);\n      z-index: 10;\n      border-radius: 8px;\n    }\n  }\n}\n\n.card-map__overlay {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 100;\n}\n\n.card-map__item-status {\n  position: relative;\n\n  &::before {\n    position: absolute;\n    left: 0;\n    top: 1px;\n    content: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Generated by IcoMoon.io --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath fill='%23b1b1b1' d='M8 0c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM8.9 13h-2v-2h2v2zM11 8.1c-0.4 0.4-0.8 0.6-1.2 0.7-0.6 0.4-0.8 0.2-0.8 1.2h-2c0-2 1.2-2.6 2-3 0.3-0.1 0.5-0.2 0.7-0.4 0.1-0.1 0.3-0.3 0.1-0.7-0.2-0.5-0.8-1-1.7-1-1.4 0-1.6 1.2-1.7 1.5l-2-0.3c0.1-1.1 1-3.2 3.6-3.2 1.6 0 3 0.9 3.6 2.2 0.4 1.1 0.2 2.2-0.6 3z'%3E%3C/path%3E%3C/svg%3E%0A\");\n  }\n\n  .card-map__item--success & {\n    &::before {\n      width: 16px;\n      top: 0;\n      content: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' %3F%3E%3Csvg id='Layer_1' style='enable-background:new 0 0 612 792;' version='1.1' viewBox='0 0 612 792' xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23089C31;%7D%0A%3C/style%3E%3Cg%3E%3Cpath class='st0' d='M562,396c0-141.4-114.6-256-256-256S50,254.6,50,396s114.6,256,256,256S562,537.4,562,396L562,396z M501.7,296.3l-241,241l0,0l-17.2,17.2L110.3,421.3l58.8-58.8l74.5,74.5l199.4-199.4L501.7,296.3L501.7,296.3z'/%3E%3C/g%3E%3C/svg%3E\");\n    }\n  }\n\n  .v-input--is-disabled & {\n    &::before {\n      opacity: 0.35;\n    }\n  }\n}\n\n.card-map__item-button {\n  & .v-progress-circular {\n    margin: auto;\n  }\n\n  @media (max-width: 900px) {\n    min-height: unset;\n  }\n}\n\n.v-list-item {\n  padding-left: 24px;\n  padding-right: 24px;\n  &:not(:last-child) {\n    border-bottom: 1px solid #c1c1c1;\n  }\n}\n\n.v-text-field .v-input__append-inner {\n  align-self: center;\n}\n\n.v-list {\n  padding: 0;\n}\n\n.theme--light.v-text-field > .v-input__control > .v-input__slot:before {\n  border-color: transparent;\n}\n\n[class*=\"selected-active\"] {\n  &::before {\n    content: attr(data-letter);\n    position: absolute;\n    display: block;\n    z-index: 10;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    font-size: 15px;\n    color: white;\n    background-color: green !important;\n  }\n}\n\n.v-application ul {\n  padding: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CardMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CardMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardMap.vue?vue&type=template&id=1df20b13&\"\nimport script from \"./CardMap.vue?vue&type=script&lang=js&\"\nexport * from \"./CardMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardMap.vue?vue&type=style&index=0&id=1df20b13&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { ref } from \"vue\";\nimport { useUsers } from \"@/store/users\";\nimport { createRequest } from \"@/helpers\";\n// import { event } from \"vue-gtag\";\nimport { useGtm } from \"@gtm-support/vue2-gtm\";\n\nexport default function usePassangerList() {\n  const gtm = useGtm();\n  const sheet = ref(false);\n  const storeUsers = useUsers();\n  const disabledButton = ref(true);\n\n  async function doRegister() {\n    const requestStr = createRequest();\n    // event(\"gopay\", { method: \"Google\" });\n    gtm.trackEvent({\n      event: \"gopay\",\n      category: \"category\",\n      action: \"click\",\n      label: \"My custom component trigger\",\n      value: 5000,\n      noninteraction: false,\n    });\n    const response = (await storeUsers.register(requestStr.trim())).data;\n    if (response.text) window.location.href = response.text;\n    else console.log(\"сейчас должен был произойти редирект, но его нет :(\");\n  }\n\n  return {\n    sheet,\n    doRegister,\n    disabledButton,\n  };\n}\n","<template>\n  <div class=\"container\">\n    <section class=\"cards\">\n      <h2 class=\"cards__title\">Пассажиры</h2>\n\n      <div class=\"cards__container\">\n        <CardPassenger\n          v-for=\"(card, index) in storeCards.cards\"\n          :key=\"index\"\n          :card=\"storeCards.cards[index]\"\n          :undeletable=\"index === 0\"\n          @openCardMap=\"sheet = !sheet\"\n          @updateFlightInfo=\"updateFlightInfo\"\n        />\n        <button\n          class=\"card-suggestion\"\n          v-if=\"storeUsers.basePersonIsDefined && statusFlight === 'OPENED'\"\n          @click=\"\n            storeCards.createCard(\n              {},\n              { status: 'OPENED', personIdDefined: true }\n            )\n          \"\n        >\n          <svg class=\"card-suggestion__icon\">\n            <use xlink:href=\"#userIcon\"></use>\n          </svg>\n          <span class=\"card-suggestion__message\">+ Добавить пассажира</span>\n        </button>\n        <v-bottom-sheet v-model=\"sheet\" inset max-width=\"960\">\n          <CardMap :open=\"sheet\" @close=\"sheet = false\" />\n        </v-bottom-sheet>\n      </div>\n    </section>\n    <!-- <section class=\"limitations\">\n      <h2 class=\"limitations__title\">Ограничения</h2>\n      <ul class=\"limitations__list\">\n        <li class=\"limitations__item\">\n          Онлайн-регистрация заканчивается за 4 часа до вылета\n        </li>\n        <li class=\"limitations__item\">Вы не перевозите оружие и животных</li>\n        <li class=\"limitations__item\">\n          Веб-регистрация доступны для всех рейсов, вылетающих из Кишинева,\n          Парижа, Лиссабона, Пармы, Вероны, Дублина, Воронежа, Москвы\n          (Домодедово и Внуково) и Санкт-Петербурга.\n        </li>\n      </ul>\n    </section> -->\n    <section\n      class=\"mailer\"\n      v-if=\"storeUsers.basePersonIsDefined && statusFlight === 'OPENED'\"\n    >\n      <div class=\"mailer__win\" id=\"mail\">\n        <label\n          ><span class=\"mailer__label\"\n            >Эл. почта для получения посадочных талонов</span\n          >\n          <v-app>\n            <v-text-field\n              v-model=\"storeUsers.basePersonEmail\"\n              placeholder=\"email@mail.ru\"\n              style=\"border-radius: 50px\"\n              outlined\n              color=\"#07237E\"\n              background-color=\"white\"\n              :rules=\"[\n                () => !!storeUsers.basePersonEmail || 'Это поле обязательно',\n              ]\"\n            ></v-text-field>\n          </v-app>\n        </label>\n      </div>\n    </section>\n    <section\n      class=\"output\"\n      v-if=\"storeUsers.basePersonIsDefined && statusFlight === 'OPENED'\"\n    >\n      <span class=\"output__message\">\n        Количество пассажиров: {{ storeUsers.totalForms }}</span\n      >\n      <span class=\"output__message\"\n        >К оплате: {{ storeUsers.totalPrice }} ₽</span\n      >\n    </section>\n    <v-app v-if=\"storeUsers.basePersonIsDefined && statusFlight === 'OPENED'\">\n      <BaseButton\n        class=\"main__button\"\n        :text=\"'Зарегистрироваться'\"\n        :status=\"'primary'\"\n        :disabled=\"disabledButton\"\n        @click=\"doRegister\"\n      />\n    </v-app>\n  </div>\n</template>\n\n<script>\nimport { onMounted, ref, watch } from \"vue\";\nimport CardPassenger from \"@/components/CardPassenger.vue\";\nimport BaseButton from \"@/components/BaseButton.vue\";\nimport CardMap from \"@/components/CardMap.vue\";\nimport usePassangerList from \"@/hooks/usePassangerList\";\nimport { useUsers } from \"@/store/users\";\nimport { useCards } from \"@/store/cards\";\nexport default {\n  name: \"PassengerList\",\n  components: { BaseButton, CardPassenger, CardMap },\n  setup(props, { emit }) {\n    const storeUsers = useUsers();\n    const storeCards = useCards();\n    const statusFlight = ref(null);\n    const { sheet, doRegister, disabledButton } = usePassangerList();\n\n    function updateFlightInfo(flightInfo) {\n      emit(\"updateFlightInfo\", flightInfo);\n    }\n\n    onMounted(() => {\n      if (storeUsers.basePersonIsDefined) {\n        storeUsers.persons.forEach((currentPerson) => {\n          storeCards.createCard(\n            {\n              lastName: currentPerson.lastName,\n              ticketNumber: currentPerson.ticketNumber,\n              mapSeats: currentPerson.mapSeats,\n            },\n            {\n              possibleActions: currentPerson.possibleActions,\n              normalSeat: currentPerson.normalSeat,\n              status: currentPerson.status,\n              isConfirmed: currentPerson.mapSeats ? true : false,\n              personIsDefined: true,\n              checked: currentPerson.checked === \"CHECKED\",\n            }\n          );\n        });\n      } else if (!storeUsers.basePersonIsDefined) {\n        storeCards.createCard(\n          {\n            lastName: storeUsers.basePerson.last_name,\n            ticketNumber: storeUsers.basePerson.ticket_number,\n          },\n          { personIsDefined: false }\n        );\n      }\n    });\n\n    watch(\n      () => storeUsers.statusFlight,\n      (val) => {\n        statusFlight.value = val;\n      },\n      { immediate: true }\n    );\n\n    watch(\n      () => storeUsers.persons,\n      () => {\n        if (storeUsers.totalForms && storeUsers.totalPrice) {\n          disabledButton.value = false;\n        } else disabledButton.value = true;\n      },\n      { immediate: true, deep: true }\n    );\n\n    return {\n      sheet,\n      storeUsers,\n      storeCards,\n      statusFlight,\n\n      updateFlightInfo,\n      doRegister,\n      disabledButton,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.theme--light.v-application {\n  background: transparent;\n}\n\n.v-bottom-sheet.v-dialog {\n  overflow: unset;\n\n  @media (max-width: 900px) {\n    overflow: scroll;\n  }\n}\n\n.main__button {\n  & .v-btn__content {\n    font-size: 30px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PassengerList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PassengerList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PassengerList.vue?vue&type=template&id=231263b0&scoped=true&\"\nimport script from \"./PassengerList.vue?vue&type=script&lang=js&\"\nexport * from \"./PassengerList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PassengerList.vue?vue&type=style&index=0&id=231263b0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"231263b0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <main class=\"main\">\n    <div class=\"main__loaders\" v-if=\"preloader\">\n      <div class=\"container main__sceleton\">\n        <v-skeleton-loader type=\"heading\"></v-skeleton-loader>\n      </div>\n      <div class=\"container main__sceleton\">\n        <v-skeleton-loader\n          class=\"main__sceleton-card\"\n          type=\"heading, chip, heading, chip, button\"\n        ></v-skeleton-loader>\n      </div>\n    </div>\n    <PassengerList v-else @updateFlightInfo=\"updateFlightInfo\" />\n  </main>\n</template>\n\n<script>\nimport PassengerList from \"@/components/PassengerList.vue\";\n\nexport default {\n  components: { PassengerList },\n  props: {\n    preloader: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    updateFlightInfo(flightInfo) {\n      this.$emit(\"updateFlightInfo\", flightInfo);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.main {\n  padding-top: 50px;\n  padding-bottom: 30px;\n\n  &__sceleton {\n    & .v-skeleton-loader__heading {\n      margin-bottom: 30px;\n      height: 20px;\n      width: 40%;\n    }\n\n    &-card {\n      display: flex;\n      flex-direction: column;\n      max-width: 495px;\n      min-height: 400px;\n      width: 100%;\n      padding: 32px;\n      border-radius: 10px;\n      background-color: white;\n\n      & .v-skeleton-loader__heading {\n        width: 60%;\n        margin-bottom: 5px;\n      }\n\n      & .v-skeleton-loader__chip {\n        width: 100%;\n        height: 40px;\n        border-radius: 40px;\n      }\n\n      & .v-skeleton-loader__button {\n        border-radius: 50px;\n        width: 35%;\n        height: 56px;\n      }\n    }\n\n    & .v-skeleton-loader {\n      display: flex;\n      justify-content: space-between;\n      flex-wrap: wrap;\n    }\n\n    & .v-skeleton-loader__image {\n      height: 400px;\n    }\n  }\n\n  @media (max-width: 750px) {\n    &__sceleton {\n      & .v-skeleton-loader__card {\n        width: 100%;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainPage.vue?vue&type=template&id=15df69dc&\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js&\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainPage.vue?vue&type=style&index=0&id=15df69dc&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Teleport',{attrs:{\"to\":\"#teleport-target\"}},[_c('div',{staticClass:\"popup\"},[(_vm.show)?_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":_vm.notification.type}},[_vm._v(\" \"+_vm._s(_vm.notification.textMessage)+\" \"),(_vm.notification.availableReload)?_c('v-btn',{on:{\"click\":function($event){return _vm.$emit('reload')}}},[_vm._v(\"Повторить запрос\")]):_vm._e()],1):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Teleport to=\"#teleport-target\">\n    <div class=\"popup\">\n      <v-alert prominent :type=\"notification.type\" v-if=\"show\">\n        {{ notification.textMessage }}\n        <v-btn @click=\"$emit('reload')\" v-if=\"notification.availableReload\"\n          >Повторить запрос</v-btn\n        >\n      </v-alert>\n    </div>\n  </Teleport>\n</template>\n\n<script>\nimport Teleport from \"vue2-teleport\";\nimport { mapState } from \"pinia\";\nimport { useUsers } from \"@/store/users\";\nexport default {\n  name: \"BaseNotification\",\n  components: { Teleport },\n  data() {\n    return {\n      show: false,\n    };\n  },\n  computed: {\n    ...mapState(useUsers, [\"notification\"]),\n  },\n  watch: {\n    notification(val) {\n      if (val.type && val.textMessage) {\n        this.show = true;\n      } else {\n        this.show = false;\n      }\n    },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BaseNotification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BaseNotification.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseNotification.vue?vue&type=template&id=8e6217fa&\"\nimport script from \"./BaseNotification.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseNotification.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <MainHeader\n      :preloader=\"fetchStatus.loading\"\n      :info=\"headerInfo\"\n      @change-flight=\"changeFlight()\"\n    />\n    <MainPage\n      :preloader=\"fetchStatus.loading && !toOpenListCards\"\n      @updateFlightInfo=\"updateFlightInfo\"\n    />\n    <MainFooter\n      v-if=\"!fetchStatus.loading && store.statusFlight === 'OPENED'\"\n    />\n    <v-app>\n      <v-dialog v-model=\"dialog\" persistent max-width=\"809\">\n        <v-card class=\"suggestion\">\n          <v-card-title>\n            <span class=\"text-h5\">Выбор сегмента</span>\n          </v-card-title>\n          <form action=\"#\">\n            <v-radio-group v-model=\"radioGroup\">\n              <v-radio\n                color=\"black\"\n                :value=\"index\"\n                v-for=\"(seg, index) of segments\"\n                :key=\"index\"\n                class=\"suggestion__row\"\n                :class=\"seg.status === 'OPENED' ? 'active' : ''\"\n                :checked=\"radioGroup === index\"\n              >\n                <template v-slot:label>\n                  <div class=\"suggestion__row-left\">\n                    <div class=\"suggestion__header\">\n                      <h2 class=\"suggestion__title\">\n                        {{ seg.departureCity }} &mdash; {{ seg.arrivalCity }}\n                      </h2>\n                      <span\n                        class=\"suggestion__subtitle suggestion__subtitle--color-grey\"\n                        >{{ seg.departureAirport }}</span\n                      >\n                      <span class=\"suggestion__subtitle\">\n                        {{ convertTime(seg.departureDateTime) }}</span\n                      >\n                    </div>\n                    <span class=\"suggestion__text\">\n                      Веб-регистрация на рейс:\n                      <span\n                        :class=\"\n                          seg.status === 'OPENED'\n                            ? ''\n                            : 'suggestion__text--color-red'\n                        \"\n                      >\n                        &nbsp;{{\n                          seg.status === \"OPENED\"\n                            ? ` открыта до ${convertTime(\n                                seg.webCheckInClose,\n                                \"dd MMMM yyyy, HH:MM\"\n                              )}`\n                            : \"закрыта\"\n                        }}\n                      </span>\n                      {{\n                    }}</span>\n                  </div>\n                  <div class=\"suggestion__row-right\">\n                    <span\n                      class=\"suggestion__subtitle suggestion__subtitle--mb-10\"\n                      >Рейс: {{ seg.flightCode }}</span\n                    >\n                    <span\n                      class=\"suggestion__subtitle suggestion__subtitle--color-grey suggestion__subtitle--size-16\"\n                      >{{ seg.airline }}</span\n                    >\n                  </div>\n                </template>\n              </v-radio>\n            </v-radio-group>\n          </form>\n          <div class=\"suggestion__button-group\">\n            <BaseButton\n              class=\"button--mr-10\"\n              :text=\"'Перейти к веб-регистрации'\"\n              @click=\"setTicket()\"\n            />\n            <v-spacer></v-spacer>\n          </div>\n        </v-card>\n      </v-dialog>\n      <v-app>\n        <div id=\"teleport-target\"></div>\n      </v-app>\n    </v-app>\n    <BaseNotification @reload=\"fetch()\" />\n  </div>\n</template>\n\n<script>\nimport { convertTime, comparisonTime } from \"@/helpers\";\nimport MainHeader from \"@/components/MainHeader.vue\";\nimport MainFooter from \"@/components/MainFooter.vue\";\nimport MainPage from \"@/views/MainPage.vue\";\nimport BaseNotification from \"@/components/BaseNotification.vue\";\nimport BaseButton from \"@/components/BaseButton.vue\";\nimport { mapActions, mapWritableState } from \"pinia\";\nimport { useUsers } from \"@/store/users\";\nimport { useCards } from \"@/store/cards\";\n\nexport default {\n  name: \"App\",\n  components: {\n    MainHeader,\n    MainFooter,\n    MainPage,\n    BaseButton,\n    BaseNotification,\n  },\n\n  data() {\n    return {\n      radioGroup: 0,\n      flightInfo: null,\n      store: useUsers(),\n      storeCards: useCards(),\n      toOpenListCards: null,\n    };\n  },\n  computed: {\n    ...mapWritableState(useUsers, [\n      \"fetchStatus\",\n      \"basePerson\",\n      \"segments\",\n      \"airline\",\n      \"persons\",\n      \"dialog\",\n      \"basePersonIsDefined\",\n      \"flightKey\",\n    ]),\n    ...mapWritableState(useCards, [\"cards\"]),\n    headerInfo() {\n      return {\n        departureDateTime: this.flightInfo?.departureDateTime,\n        arrivalDateTime: this.flightInfo?.arrivalDateTime,\n        flightCode:\n          this.flightInfo?.airlineCode + this.flightInfo?.flightNumber,\n        arrivalCity: this.flightInfo?.arrivalCity,\n        arrivalCityCode: this.flightInfo?.arrivalCityCode,\n        departureCity: this.flightInfo?.departureCity,\n        departureCityCode: this.flightInfo?.departureCityCode,\n        webCheckInClose: this.flightInfo?.stages?.webCheckInClose,\n        webCheckInOpen: this.flightInfo?.stages?.webCheckInOpen,\n        status: this.flightInfo?.status,\n      };\n    },\n  },\n  methods: {\n    convertTime,\n    comparisonTime,\n    changeFlight() {\n      this.dialog = true;\n    },\n    ...mapActions(useUsers, [\n      \"getPerson\",\n      \"getAirline\",\n      \"getInfoFlight\",\n      \"checkValidPassenger\",\n    ]),\n\n    updateFlightInfo(flightInfo) {\n      this.flightInfo = flightInfo;\n      this.fetchStatus.success = true;\n      this.fetchStatus.loading = false;\n\n      this.store.notification = {\n        type: null,\n        availableReload: null,\n        textMessage: null,\n      };\n    },\n\n    async setTicket() {\n      this.dialog = false;\n      this.toOpenListCards = false;\n      this.storeCards.$reset();\n      this.fetchStatus.loading = true;\n      this.flightKey = null;\n      const fI = (\n        await this.getInfoFlight(\n          {\n            ticketNumber: this.basePerson.ticket_number,\n            lastName: this.basePerson.last_name,\n          },\n          this.radioGroup\n        )\n      ).flightInfo;\n      this.updateFlightInfo(fI);\n      this.basePersonIsDefined = true;\n    },\n\n    async fetch(lastName, ticketNumber) {\n      const segmentsData = await this.checkValidPassenger({\n        lastName,\n        ticketNumber,\n      });\n\n      if (String(segmentsData?.code).startsWith(\"5\")) {\n        this.store.notification = {\n          type: \"error\",\n          availableReload: false,\n          textMessage: segmentsData.data.error,\n        };\n\n        this.fetchStatus.success = false;\n      } else if (String(segmentsData?.code).startsWith(\"4\")) {\n        this.store.basePersonIsDefined = false;\n        this.toOpenListCards = true;\n\n        this.store.notification = {\n          type: \"error\",\n          availableReload: false,\n          textMessage: segmentsData.data.error,\n        };\n\n        this.fetchStatus.success = false;\n      } else if (segmentsData.result === \"SELECT_SEGMENTS_GROUP\") {\n        this.store.parseSegments(segmentsData);\n        this.dialog = true;\n      } else if (segmentsData.result === \"CAPTCHA_REQUIRED\") {\n        this.store.basePersonIsDefined = false;\n        this.toOpenListCards = true;\n\n        this.store.notification = {\n          type: \"error\",\n          availableReload: false,\n          textMessage: \"CAPTCHA_REQUIRED\",\n        };\n\n        this.fetchStatus.success = false;\n      } else if (segmentsData.result === \"OK\") {\n        this.store.basePersonIsDefined = true;\n        this.flightInfo = (\n          await this.getInfoFlight({\n            ticketNumber: ticketNumber,\n            lastName: lastName,\n          })\n        ).flightInfo;\n        this.fetchStatus.success = true;\n        this.fetchStatus.loading = false;\n      }\n    },\n  },\n  async created() {\n    const id = this.$route.query.id;\n    const responsePerson = await this.getPerson(id);\n    if (!responsePerson) return;\n    const responseAirline = await this.getAirline();\n    if (!responseAirline) return;\n    await this.fetch(\n      this.basePerson?.last_name,\n      this.basePerson?.ticket_number\n    );\n  },\n};\n</script>\n<style lang=\"scss\">\n.v-icon.v-icon {\n  margin: auto 14px auto auto;\n}\n\n.button {\n  & .v-btn__content {\n    letter-spacing: 0;\n    text-transform: none;\n  }\n}\n.popup {\n  position: fixed;\n  top: 30px;\n  right: 40px;\n  z-index: 10;\n\n  @media (max-width: 735px) {\n    right: 20px;\n  }\n}\n\n.v-application--wrap {\n  min-height: unset !important;\n  max-height: unset;\n}\n\n.v-bottom-sheet.v-dialog {\n  overflow: scroll;\n}\n\n.suggestion {\n  &__row {\n    display: flex;\n    min-height: 144px;\n    padding: 25px 32px 10px 32px;\n    margin-bottom: 0 !important;\n    align-items: stretch;\n\n    &:nth-child(odd) {\n      background-color: #f2f5ff;\n    }\n\n    &:nth-child(even) {\n      background-color: #ffffff;\n    }\n\n    & .v-label {\n      justify-content: space-between;\n    }\n\n    &-left {\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      align-items: flex-start;\n    }\n\n    &-right {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n\n    & .v-input--selection-controls__input {\n      height: 26px;\n    }\n\n    & .v-application--is-ltr .v-input--selection-controls__input {\n      margin-right: 10px;\n    }\n  }\n\n  &__header {\n    display: grid;\n    gap: 6px;\n    grid-template-columns: repeat(2, 1fr);\n    grid-template-rows: repeat(2, 1fr);\n  }\n\n  &__title {\n    margin: 0;\n    font-weight: 700;\n    font-size: 21px;\n    line-height: 25px;\n    color: black;\n  }\n\n  &__subtitle {\n    font-size: 18px;\n    line-height: 25px;\n    color: black;\n\n    &--color-grey {\n      color: #999999;\n    }\n\n    &--size-16 {\n      font-size: 16px;\n    }\n\n    &--mb-10 {\n      margin-bottom: 10px;\n    }\n  }\n\n  &__date {\n    grid-column: span 2;\n    font-size: 18px;\n    line-height: 21px;\n  }\n\n  &__text {\n    width: 100%;\n    align-self: flex-end;\n    display: flex;\n    align-items: center;\n    position: relative;\n    color: #666666;\n\n    &--color-red {\n      color: #ff0000;\n    }\n\n    .suggestion__row.active &::before {\n      content: \"\";\n      position: absolute;\n      display: inline-block;\n      left: -15px;\n      width: 10px;\n      height: 10px;\n      margin-right: 5px;\n      border-radius: 50%;\n      background-color: #089c31;\n    }\n  }\n\n  &__button-group {\n    padding: 0 25px 32px;\n  }\n\n  .button--mr-10 {\n    margin-right: 10px;\n  }\n\n  @media (max-width: 735px) {\n    &__row {\n      padding: 10px 19px 10px 19px;\n\n      & .v-label {\n        flex-direction: column;\n      }\n\n      &-left {\n        width: 100%;\n        height: fit-content;\n      }\n\n      &-right {\n        width: 100%;\n        height: fit-content;\n        flex-direction: row;\n\n        & .suggestion__subtitle:first-child {\n          margin-right: 10px;\n        }\n      }\n    }\n\n    &__header {\n      gap: unset;\n      grid-template-columns: unset;\n      grid-template-rows: unset;\n      margin-bottom: 10px;\n\n      & .suggestion__subtitle:nth-child(2) {\n        display: block;\n      }\n    }\n\n    &__title {\n      font-size: 18px;\n      line-height: 21px;\n      margin-right: 10px;\n    }\n\n    &__subtitle {\n      font-size: 16px;\n\n      &--mb-10 {\n        margin-bottom: 0;\n      }\n    }\n\n    &__text {\n      display: inline-block;\n      align-items: unset;\n      align-self: unset;\n      font-size: 14px;\n      line-height: 16px;\n      margin-bottom: 5px;\n\n      &::before {\n        top: 3px;\n      }\n    }\n\n    &__button-group {\n      padding: 0 22px 25px;\n    }\n  }\n\n  @media (max-width: 500px) {\n    &__header {\n      align-items: flex-start;\n      flex-direction: column;\n    }\n  }\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7bc5b74e&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=7bc5b74e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport Vuetify from \"vuetify/lib/framework\";\n\nVue.use(Vuetify, {\n  iconfont: \"mdi\",\n});\n\nexport default new Vuetify({});\n","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport MainPage from \"@/views/MainPage.vue\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/:id\",\n    name: \"home\",\n    component: MainPage,\n  },\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  routes,\n});\n\nexport default router;\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport vuetify from \"./plugins/vuetify\";\nimport { createPinia, PiniaVuePlugin } from \"pinia\";\nimport VueGtm from \"@gtm-support/vue2-gtm\";\n// import VueGtag from \"vue-gtag\";\nimport router from \"./router\";\nVue.use(PiniaVuePlugin);\n\nVue.use(VueGtm, {\n  id: \"GTM-5C3TND\",\n  defer: false,\n  // config: { id: \"GTM-5C3TND\" },\n});\n\nVue.config.productionTip = false;\n\n// export const bus = new Vue();\n// Vue.forceUpdate();\nconst pinia = createPinia();\n// Vue.use(pinia);\nnew Vue({\n  vuetify,\n  router,\n  pinia,\n  render: (h) => h(App),\n}).$mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcheckin\"] = self[\"webpackChunkcheckin\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4326); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["attrs","_vm","on","_c","model","value","$$v","expression","staticClass","radioGroup","_l","segments","key","index","class","scopedSlots","_v","seg","status","convertTime","webCheckInClose","flightCode","$event","staticRenderFns","instanceJson","axios","baseURL","headers","instanceText","instance","info","id","get","airline","infoDetailed","payload","post","register","passenger","requestData","sendData","useUsers","defineStore","state","persons","segmentsResult","basePerson","basePersonEmail","basePersonIsDefined","statusFlight","flightKey","fetchStatus","success","loading","dialog","notification","type","availableReload","textMessage","webCheckInOpen","gtm","useGtm","getters","checkSeats","result","this","forEach","p","normalSeat","registerIsStarted","comparisonTime","totalForms","reduce","acc","cp","checked","totalPrice","seatRate","listTickets","map","ticketNumber","activePerson","find","active","findPersonByTicket","tN","findIndexPersonByTicket","findIndex","parseSegments","segmentsData","selectSegmentsGroupCase","segmentGroups","currentSegment","stages","departureCity","arrivalCity","departureAirport","airlineCode","flightNumber","arrivalDateTime","departureDateTime","actions","findRateBySeat","mapSeats","seat","lineIndex","rows","row","Number","row_number","parseInt","seats","s","String","seatNumber","rate","setNotification","deletePerson","splice","$patch","updatePerson","data","async","iata_code","lastName","segmentsGroupIndex","segmentIndex","api","response","error","parseResponse","ticketInfo","mapSeat","instancePerson","newFlightKey","getKeyFlight","compatibility","departure_date","departureDate","flight_number","possibleActions","getPossibleActionsByUser","passengersType","fullName","passengers","name","chosenSeatThroughGui","number","autoAssigned","updateUsers","currentPerson","push","email","detail","mapInfo","Promise","allSettled","catch","trackEvent","event","category","action","label","noninteraction","flightInfo","then","code","time","b","split","join","t","timeOne","timeOneParsed","reverse","Date","numberFormat","Intl","NumberFormat","format","createRequest","storeUsers","fillUpFieldsEachPerson","person","requestStr","counter","document","cookie","match","replace","checkoutId","scrollTo","element","window","scroll","left","top","offsetTop","behavior","segment","preloader","_s","props","required","setup","emit","console","flightStatus","changeFlight","component","render","_self","_m","updateFlightInfo","storeCards","cards","callback","sheet","undeletable","removeCard","showMessageLastName","staticStyle","fn","domProps","chosenSeat","showErrorNoConfirmed","color","GREEN","BLUE","colors","globalState","default","text","disabled","computed","classes","methods","click","useCards","getCardIndexById","card","getCardByTicketNumber","getCardIdByIndexPerson","usersStore","patchCard","i","validateCard","existsCard","message","isValidTicketNumber","length","isValidLastName","createCard","extraFields","initializeId","nanoid","objCard","deleteCard","isConfirmed","useCardPassenger","ref","textButton","loadingBtn","components","BaseButton","handlerNotification","personChangedInputs","showMessageTicketNumber","textMessageTicketNumber","textMessageLastName","textErrorNoConfirmed","canChangeSeat","res","watch","errorLog","deep","val","textWarning","immediate","onMounted","addPersonOrChoseSeat","store","setClass","loadingLi","loadingSelect","_u","setSeatCurrentPerson","snackbar","uniqueHeaderLetters","letter","mapSeatsModified","line","indexExternal","indexInternal","calculateStatusSeat","style","priceColor","doChoosePlace","_e","uniquePrice","price","useMapSeats","getUniquePrice","collections","uniquPrice","currentLine","lineSeats","currentSeat","currentPrice","uniqCurrentPrice","sort","a","classList","available","exists","indexCurrentPerson","indexElement","modifyMapSeats","xCount","newMap","createEmptySpace","newLine","requared","useCardMap","currentIndexPerson","activeButtonElements","snackbarText","reactive","indexPerson","updateActivePerson","doPersonStatus","setSeatCurrentPersonDOM","nextTick","activeSelectedSeat","querySelector","li","personIndex","className","activeClass","setAttribute","indicator","toggle","newActiveLiElement","activeLi","lastActiveLi","activeIndex","lastActiveIndex","otherPersonWithSameSeat","checkAvailableSeat","log","setNextPerson","includes","useCardMapDOM","items","setClassSelected","btn","remove","add","setPerson","cls","toEmailForm","mailWin","getElementById","MapSeats","open","currentSeatsMap","wrapperToEmailFrom","usePassangerList","disabledButton","doRegister","trim","location","href","CardPassenger","CardMap","personIsDefined","PassengerList","$emit","Teleport","show","MainHeader","MainFooter","MainPage","BaseNotification","toOpenListCards","headerInfo","arrivalCityCode","departureCityCode","Vue","Vuetify","iconfont","VueRouter","routes","path","router","mode","PiniaVuePlugin","VueGtm","defer","pinia","createPinia","vuetify","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}